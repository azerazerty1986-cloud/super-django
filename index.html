<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø³ÙˆÙ‚ Ø§Ù„Ø¬Ù† | Ù†Ø§Ø±Ø¯Ùˆ Ø¨Ø±Ùˆ</title>
    
    <!-- Ø§Ù„Ø®Ø·ÙˆØ· -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Ù…ÙƒØªØ¨Ø§Øª Ø«Ù„Ø§Ø«ÙŠØ© Ø§Ù„Ø£Ø¨Ø¹Ø§Ø¯ -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    
    <!-- Anime.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    
    <!-- Chart.js Ù„Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Cairo', sans-serif;
            background: linear-gradient(135deg, #0a0f0d 0%, #1a2a24 100%);
            color: #e5f0ed;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø³Ø­Ø±ÙŠØ© */
        :root {
            --deep-night: #0a0f0d;
            --jinn-green: #1a3a32;
            --magic-gold: #D4AF37;
            --spirit-silver: #C0C0C0;
            --mystic-purple: #6b21a5;
            --flame-orange: #f97316;
            --glass: rgba(212, 175, 55, 0.1);
            --glass-border: rgba(212, 175, 55, 0.3);
        }

        /* ØªØ£Ø«ÙŠØ±Ø§Øª Ø­Ø±ÙƒÙŠØ© */
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        @keyframes glow {
            0%, 100% { text-shadow: 0 0 20px var(--magic-gold); }
            50% { text-shadow: 0 0 40px var(--magic-gold), 0 0 60px var(--flame-orange); }
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.8; }
        }

        /* Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© */
        .container {
            width: 95%;
            max-width: 1400px;
            margin: 0 auto;
            position: relative;
        }

        /* Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª */
        .notification-container {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 9999;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .notification {
            background: rgba(10, 15, 13, 0.95);
            backdrop-filter: blur(10px);
            border: 2px solid var(--magic-gold);
            border-radius: 50px;
            padding: 15px 30px;
            color: var(--magic-gold);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 15px;
            box-shadow: 0 0 30px rgba(212, 175, 55, 0.3);
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        /* Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù„ÙˆÙŠ */
        .top-bar {
            background: rgba(10, 15, 13, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 2px solid var(--magic-gold);
            padding: 15px 0;
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .top-bar .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }

        .magic-text {
            color: var(--magic-gold);
            animation: glow 2s infinite;
        }

        /* Ø§Ù„Ù‡ÙŠØ¯Ø± */
        .header {
            background: var(--glass);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            border-radius: 0 0 40px 40px;
            padding: 20px 0;
            margin-bottom: 30px;
        }

        .header-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 20px;
        }

        .logo {
            position: relative;
        }

        .logo h1 {
            font-size: 48px;
            font-weight: 900;
            background: linear-gradient(135deg, var(--magic-gold) 0%, var(--spirit-silver) 50%, var(--magic-gold) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: float 3s ease-in-out infinite;
        }

        .logo h1::after {
            content: 'ğŸ‘¹';
            position: absolute;
            top: -20px;
            right: -30px;
            font-size: 40px;
            animation: spin 10s linear infinite;
        }

        .logo span {
            color: var(--mystic-purple);
            font-size: 18px;
            display: block;
            text-align: center;
        }

        /* Ø´Ø±ÙŠØ· Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø³Ø­Ø±ÙŠ */
        .search-container {
            position: relative;
            width: 400px;
        }

        .search-input {
            width: 100%;
            padding: 15px 50px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid var(--magic-gold);
            border-radius: 50px;
            color: white;
            font-family: 'Cairo', sans-serif;
            font-size: 16px;
            transition: all 0.3s;
        }

        .search-input:focus {
            outline: none;
            box-shadow: 0 0 30px var(--magic-gold);
            background: rgba(255, 255, 255, 0.1);
        }

        .search-icon {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--magic-gold);
            font-size: 20px;
        }

        .magic-icon {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--mystic-purple);
            font-size: 20px;
            animation: pulse 2s infinite;
        }

        /* Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ù‚Ø³Ø§Ù… */
        .categories-nav {
            margin: 30px 0;
        }

        .categories-list {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
            list-style: none;
        }

        .categories-list li a {
            color: white;
            text-decoration: none;
            font-weight: 700;
            padding: 15px 30px;
            border-radius: 50px;
            background: var(--glass);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 16px;
            transition: all 0.3s;
            cursor: pointer;
        }

        .categories-list li a:hover,
        .categories-list li a.active {
            background: var(--magic-gold);
            color: var(--deep-night);
            transform: translateY(-5px);
            box-shadow: 0 0 30px var(--magic-gold);
        }

        /* Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ Ø¬Ù†ÙŠ */
        .ai-assistant {
            position: fixed;
            bottom: 20px;
            left: 20px;
            width: 350px;
            background: rgba(10, 15, 13, 0.95);
            backdrop-filter: blur(10px);
            border: 2px solid var(--magic-gold);
            border-radius: 30px;
            padding: 20px;
            z-index: 2000;
            box-shadow: 0 0 50px rgba(212, 175, 55, 0.3);
        }

        .jinni-avatar {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .jinni-avatar i {
            font-size: 40px;
            color: var(--magic-gold);
            animation: spin 10s linear infinite;
        }

        .jinni-avatar span {
            font-size: 20px;
            color: var(--magic-gold);
            font-weight: 700;
        }

        .jinni-chat {
            height: 200px;
            overflow-y: auto;
            padding: 10px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            margin-bottom: 15px;
        }

        .message {
            padding: 10px;
            border-radius: 15px;
            margin-bottom: 10px;
            max-width: 80%;
        }

        .message.bot {
            background: linear-gradient(135deg, var(--mystic-purple), var(--magic-gold));
            color: white;
            align-self: flex-start;
        }

        .message.user {
            background: var(--glass);
            color: var(--magic-gold);
            align-self: flex-end;
            margin-right: auto;
        }

        .jinni-input {
            width: 100%;
            padding: 12px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--magic-gold);
            border-radius: 50px;
            color: white;
            font-family: 'Cairo', sans-serif;
        }

        /* Ø´Ø¨ÙƒØ© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 30px;
            margin: 40px 0;
        }

        .product-card {
            background: var(--glass);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            border-radius: 30px;
            overflow: hidden;
            transition: all 0.5s;
            position: relative;
            cursor: pointer;
        }

        .product-card:hover {
            transform: translateY(-20px) scale(1.02);
            box-shadow: 0 0 50px var(--magic-gold);
        }

        .product-card::before {
            content: 'ğŸ‘ï¸';
            position: absolute;
            top: 10px;
            left: 10px;
            font-size: 20px;
            opacity: 0;
            transition: all 0.3s;
            z-index: 10;
        }

        .product-card:hover::before {
            opacity: 1;
        }

        .product-image {
            height: 250px;
            position: relative;
            overflow: hidden;
        }

        .product-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: all 0.7s;
        }

        .product-card:hover .product-image img {
            transform: scale(1.15);
        }

        .magic-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: var(--magic-gold);
            color: var(--deep-night);
            padding: 5px 15px;
            border-radius: 50px;
            font-size: 12px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 5px;
            z-index: 10;
        }

        .ar-badge {
            position: absolute;
            bottom: 10px;
            left: 10px;
            background: var(--mystic-purple);
            color: white;
            padding: 5px 15px;
            border-radius: 50px;
            font-size: 12px;
            display: flex;
            align-items: center;
            gap: 5px;
            cursor: pointer;
            z-index: 10;
        }

        .product-info {
            padding: 20px;
        }

        .product-title {
            font-size: 20px;
            font-weight: 700;
            color: var(--magic-gold);
            margin-bottom: 10px;
        }

        .product-price {
            font-size: 28px;
            font-weight: 900;
            color: white;
            margin-bottom: 10px;
        }

        .product-price::after {
            content: ' Ø¯Ø¬';
            font-size: 16px;
            color: var(--magic-gold);
        }

        .product-token {
            font-size: 14px;
            color: var(--mystic-purple);
            margin-bottom: 10px;
        }

        .product-token i {
            color: var(--magic-gold);
        }

        .product-stock {
            padding: 8px;
            border-radius: 20px;
            background: rgba(0,0,0,0.3);
            display: inline-block;
            margin-bottom: 15px;
        }

        .ar-button {
            width: 100%;
            padding: 12px;
            background: linear-gradient(135deg, var(--mystic-purple), var(--magic-gold));
            color: white;
            border: none;
            border-radius: 20px;
            font-weight: 700;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.3s;
            margin-bottom: 10px;
        }

        .ar-button:hover {
            transform: scale(1.05);
            box-shadow: 0 0 30px var(--magic-gold);
        }

        .buy-button {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, var(--magic-gold), var(--flame-orange));
            color: var(--deep-night);
            border: none;
            border-radius: 20px;
            font-weight: 800;
            cursor: pointer;
            transition: all 0.3s;
        }

        .buy-button:hover {
            transform: scale(1.05);
            box-shadow: 0 0 30px var(--magic-gold);
        }

        /* Ù†Ø§ÙØ°Ø© Ø§Ù„ÙˆØ§Ù‚Ø¹ Ø§Ù„Ù…Ø¹Ø²Ø² */
        .ar-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            z-index: 3000;
        }

        .ar-container {
            width: 100%;
            height: 100%;
            position: relative;
        }

        .ar-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: var(--magic-gold);
            color: var(--deep-night);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            cursor: pointer;
            z-index: 3001;
        }

        /* Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙˆÙƒÙ†Ø² */
        .token-panel {
            position: fixed;
            top: 100px;
            right: 20px;
            background: rgba(10, 15, 13, 0.95);
            backdrop-filter: blur(10px);
            border: 2px solid var(--magic-gold);
            border-radius: 30px;
            padding: 20px;
            width: 300px;
            z-index: 1500;
        }

        .token-balance {
            text-align: center;
            margin-bottom: 20px;
        }

        .token-balance h3 {
            color: var(--magic-gold);
            font-size: 18px;
        }

        .token-amount {
            font-size: 36px;
            font-weight: 900;
            color: white;
        }

        .token-amount small {
            font-size: 14px;
            color: var(--magic-gold);
        }

        .token-actions {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }

        .token-btn {
            padding: 10px;
            background: var(--glass);
            border: 1px solid var(--magic-gold);
            border-radius: 15px;
            color: var(--magic-gold);
            cursor: pointer;
            transition: all 0.3s;
        }

        .token-btn:hover {
            background: var(--magic-gold);
            color: var(--deep-night);
        }

        /* Ø³ÙˆÙ‚ Ø§Ù„ØªÙˆÙƒÙ†Ø² */
        .token-market {
            background: var(--glass);
            border-radius: 20px;
            padding: 20px;
            margin: 20px 0;
        }

        .token-price {
            font-size: 24px;
            color: var(--magic-gold);
            text-align: center;
            margin-bottom: 15px;
        }

        .token-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-label {
            font-size: 12px;
            color: var(--spirit-silver);
        }

        .stat-value {
            font-size: 18px;
            font-weight: 700;
            color: white;
        }

        /* Ø¹Ø¬Ù„Ø© Ø§Ù„Ø­Ø¸ */
        .wheel-container {
            background: var(--glass);
            border-radius: 30px;
            padding: 30px;
            text-align: center;
            margin: 40px 0;
        }

        .wheel {
            width: 300px;
            height: 300px;
            border-radius: 50%;
            margin: 0 auto 20px;
            position: relative;
            cursor: pointer;
            transition: transform 3s cubic-bezier(0.17, 0.67, 0.83, 0.67);
        }

        .wheel-segment {
            position: absolute;
            width: 50%;
            height: 50%;
            transform-origin: 100% 100%;
        }

        .prize-display {
            font-size: 24px;
            color: var(--magic-gold);
            margin-top: 20px;
        }

        /* Ø§Ù„Ù…ÙŠØªØ§ÙÙŠØ±Ø³ */
        .metaverse-container {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: black;
            z-index: 4000;
        }

        .metaverse-header {
            position: absolute;
            top: 20px;
            left: 20px;
            z-index: 4001;
            color: var(--magic-gold);
            font-size: 24px;
        }

        .metaverse-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: var(--magic-gold);
            color: black;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 4001;
        }

        /* Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„ØºØ§Ù…Ø¶ */
        .mystery-boxes {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 40px 0;
        }

        .mystery-box {
            background: linear-gradient(135deg, var(--mystic-purple), var(--magic-gold));
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .mystery-box:hover {
            transform: scale(1.05);
            box-shadow: 0 0 50px var(--magic-gold);
        }

        .mystery-box i {
            font-size: 60px;
            color: white;
            margin-bottom: 20px;
        }

        .mystery-box h3 {
            color: white;
            font-size: 24px;
            margin-bottom: 10px;
        }

        .mystery-box .price {
            color: var(--deep-night);
            font-weight: 700;
            font-size: 20px;
        }

        /* Ø§Ù„Ù…Ø²Ø§Ø¯ */
        .auction-container {
            background: var(--glass);
            border-radius: 30px;
            padding: 30px;
            margin: 40px 0;
        }

        .auction-item {
            display: flex;
            align-items: center;
            gap: 20px;
            padding: 20px;
            background: rgba(255,255,255,0.05);
            border-radius: 20px;
            margin-bottom: 15px;
        }

        .auction-image {
            width: 100px;
            height: 100px;
            border-radius: 15px;
            overflow: hidden;
        }

        .auction-details {
            flex: 1;
        }

        .auction-title {
            font-size: 20px;
            color: var(--magic-gold);
            margin-bottom: 10px;
        }

        .auction-bid {
            font-size: 24px;
            color: white;
        }

        .auction-timer {
            color: var(--flame-orange);
            font-size: 18px;
        }

        .bid-button {
            padding: 10px 30px;
            background: var(--magic-gold);
            border: none;
            border-radius: 15px;
            color: var(--deep-night);
            font-weight: 700;
            cursor: pointer;
        }

        /* Ù†Ø¸Ø§Ù… Ø§Ù„Ø³Ù…Ø¹Ø© */
        .reputation-bar {
            background: rgba(255,255,255,0.05);
            border-radius: 30px;
            padding: 15px;
            margin: 20px 0;
        }

        .reputation-level {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .level-icon {
            font-size: 40px;
        }

        .level-info {
            flex: 1;
        }

        .level-name {
            color: var(--magic-gold);
            font-size: 18px;
            margin-bottom: 5px;
        }

        .level-progress {
            height: 10px;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--magic-gold), var(--mystic-purple));
            width: 0%;
            transition: width 0.3s;
        }

        /* Ø§Ù„ÙÙˆØªØ± */
        .footer {
            background: var(--deep-night);
            padding: 50px 0 20px;
            margin-top: 80px;
            border-top: 3px solid var(--magic-gold);
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-bottom: 30px;
        }

        .footer-col h3 {
            color: var(--magic-gold);
            font-size: 20px;
            margin-bottom: 15px;
        }

        .footer-col p {
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .footer-col i {
            color: var(--magic-gold);
        }

        .copyright {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid var(--magic-gold);
        }
    </style>
</head>
<body>
    <!-- Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª -->
    <div class="notification-container" id="notificationContainer"></div>

    <!-- Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ Ø¬Ù†ÙŠ -->
    <div class="ai-assistant" id="jinniAssistant">
        <div class="jinni-avatar">
            <i class="fas fa-magic"></i>
            <span>Ø¬Ù†ÙŠ - Ù…Ø³Ø§Ø¹Ø¯Ùƒ Ø§Ù„Ø°ÙƒÙŠ</span>
        </div>
        <div class="jinni-chat" id="jinniChat">
            <div class="message bot">
                âœ¨ Ø§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ…! Ø£Ù†Ø§ Ø¬Ù†ÙŠØŒ ÙƒÙŠÙ Ø£Ù‚Ø¯Ø± Ø£Ø³Ø§Ø¹Ø¯Ùƒ Ø§Ù„ÙŠÙˆÙ…ØŸ
            </div>
        </div>
        <input type="text" class="jinni-input" id="jinniInput" placeholder="Ø§ÙƒØªØ¨ Ø³Ø¤Ø§Ù„Ùƒ..." onkeypress="handleJinniInput(event)">
    </div>

    <!-- Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙˆÙƒÙ†Ø² -->
    <div class="token-panel" id="tokenPanel">
        <div class="token-balance">
            <h3>ğŸ’° Ø±ØµÙŠØ¯Ùƒ Ù…Ù† Ø§Ù„ØªÙˆÙƒÙ†Ø²</h3>
            <div class="token-amount" id="tokenBalance">0 <small>NARD</small></div>
        </div>
        <div class="token-actions">
            <button class="token-btn" onclick="showTokenMarket()">
                <i class="fas fa-chart-line"></i> Ø§Ù„Ø³ÙˆÙ‚
            </button>
            <button class="token-btn" onclick="stakeTokens()">
                <i class="fas fa-lock"></i> ØªÙƒØ¹ÙŠØ¨
            </button>
            <button class="token-btn" onclick="buyTokens()">
                <i class="fas fa-shopping-cart"></i> Ø´Ø±Ø§Ø¡
            </button>
            <button class="token-btn" onclick="sellTokens()">
                <i class="fas fa-exchange-alt"></i> Ø¨ÙŠØ¹
            </button>
        </div>
    </div>

    <!-- Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù„ÙˆÙŠ -->
    <div class="top-bar">
        <div class="container">
            <div class="magic-text"><i class="fas fa-moon"></i> Ø³ÙˆÙ‚ Ø§Ù„Ø¬Ù† - Ø­ÙŠØ« ØªØªØ­Ù‚Ù‚ Ø§Ù„Ø£Ù…Ù†ÙŠØ§Øª</div>
            <div><i class="fas fa-coins"></i> 1 NARD = 10 Ø¯Ø¬</div>
            <div><i class="fas fa-users"></i> Ø§Ù„Ù…ØªÙˆØ§Ø¬Ø¯ÙˆÙ† Ø§Ù„Ø¢Ù†: <span id="onlineUsers">157</span></div>
        </div>
    </div>

    <!-- Ø§Ù„Ù‡ÙŠØ¯Ø± -->
    <header class="header">
        <div class="container header-content">
            <div class="logo">
                <h1>Ø³ÙˆÙ‚ Ø§Ù„Ø¬Ù†</h1>
                <span>Ø§Ù„Ù…ØªØ¬Ø± Ø§Ù„Ø¬Ù‡Ù†ÙŠ Ø§Ù„Ø£ÙƒØ«Ø± ØªØ·ÙˆØ±Ø§Ù‹</span>
            </div>
            
            <!-- Ø´Ø±ÙŠØ· Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø³Ø­Ø±ÙŠ -->
            <div class="search-container">
                <i class="fas fa-search search-icon"></i>
                <i class="fas fa-magic magic-icon"></i>
                <input type="text" class="search-input" id="searchInput" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†ØªØ¬ Ø£Ùˆ ØªØ§Ø¬Ø±..." onkeyup="searchProducts()">
            </div>
            
            <div class="user-actions" style="display: flex; gap: 15px;">
                <i class="fas fa-bell" style="color: var(--magic-gold); font-size: 24px; cursor: pointer;"></i>
                <i class="fas fa-user-astronaut" style="color: var(--magic-gold); font-size: 24px; cursor: pointer;"></i>
                <i class="fas fa-crown" style="color: var(--magic-gold); font-size: 24px; cursor: pointer;"></i>
            </div>
        </div>
    </header>

    <!-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ù‚Ø³Ø§Ù… -->
    <nav class="categories-nav">
        <div class="container">
            <ul class="categories-list">
                <li><a onclick="filterProducts('all')" class="active"><i class="fas fa-home"></i> Ø§Ù„ÙƒÙ„</a></li>
                <li><a onclick="filterProducts('clothes')"><i class="fas fa-tshirt"></i> Ù…Ù„Ø§Ø¨Ø³</a></li>
                <li><a onclick="filterProducts('spices')"><i class="fas fa-mortar-pestle"></i> ØªÙˆØ§Ø¨Ù„</a></li>
                <li><a onclick="filterProducts('phones')"><i class="fas fa-mobile-alt"></i> Ù‡ÙˆØ§ØªÙ</a></li>
                <li><a onclick="filterProducts('hardware')"><i class="fas fa-tools"></i> Ø®Ø±Ø¯Ø©</a></li>
                <li><a onclick="filterProducts('magic')"><i class="fas fa-magic"></i> Ù…Ù†ØªØ¬Ø§Øª Ø³Ø­Ø±ÙŠØ©</a></li>
            </ul>
        </div>
    </nav>

    <!-- Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª -->
    <div class="container">
        <h2 style="text-align: center; font-size: 36px; color: var(--magic-gold); margin: 40px 0;">
            <i class="fas fa-star"></i> Ù…Ù†ØªØ¬Ø§Øª Ø³ÙˆÙ‚ Ø§Ù„Ø¬Ù† <i class="fas fa-star"></i>
        </h2>
        <div id="productsContainer" class="products-grid"></div>
    </div>

    <!-- Ø¹Ø¬Ù„Ø© Ø§Ù„Ø­Ø¸ -->
    <div class="container">
        <div class="wheel-container">
            <h2 style="color: var(--magic-gold); margin-bottom: 20px;">ğŸ¡ Ø¹Ø¬Ù„Ø© Ø§Ù„Ø­Ø¸ Ø§Ù„Ø°Ù‡Ø¨ÙŠØ©</h2>
            <div class="wheel" id="wheel" onclick="spinWheel()">
                <canvas id="wheelCanvas" width="300" height="300"></canvas>
            </div>
            <div class="prize-display" id="prizeDisplay">Ø§Ø¯ÙŠØ± Ø§Ù„Ø¹Ø¬Ù„Ø© ÙˆØ¬Ø±Ø¨ Ø­Ø¸Ùƒ!</div>
            <button class="buy-button" onclick="spinWheel()" style="width: 200px; margin: 20px auto;">
                <i class="fas fa-play"></i> Ø§Ø¯Ø± Ø§Ù„Ø¹Ø¬Ù„Ø© (100 NARD)
            </button>
        </div>
    </div>

    <!-- Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„ØºØ§Ù…Ø¶ -->
    <div class="container">
        <h2 style="text-align: center; color: var(--magic-gold); margin: 40px 0;">
            ğŸ“¦ Ø§Ù„ØµÙ†Ø§Ø¯ÙŠÙ‚ Ø§Ù„ØºØ§Ù…Ø¶Ø©
        </h2>
        <div class="mystery-boxes" id="mysteryBoxes"></div>
    </div>

    <!-- Ø§Ù„Ù…Ø²Ø§Ø¯ Ø§Ù„Ø¹Ù„Ù†ÙŠ -->
    <div class="container">
        <div class="auction-container">
            <h2 style="color: var(--magic-gold); margin-bottom: 20px;">âš¡ Ù…Ø²Ø§Ø¯ Ø§Ù„Ø¬Ù† Ø§Ù„Ø¹Ù„Ù†ÙŠ</h2>
            <div id="auctionItems"></div>
        </div>
    </div>

    <!-- Ø³ÙˆÙ‚ Ø§Ù„ØªÙˆÙƒÙ†Ø² -->
    <div class="container">
        <div class="token-market" id="tokenMarket" style="display: none;">
            <h2 style="color: var(--magic-gold); margin-bottom: 20px;">ğŸ“Š Ø³ÙˆÙ‚ Ø§Ù„ØªÙˆÙƒÙ†Ø²</h2>
            <div class="token-price" id="tokenPrice">1 NARD = 10 Ø¯Ø¬</div>
            <div class="token-stats">
                <div class="stat-item">
                    <div class="stat-label">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</div>
                    <div class="stat-value" id="totalSupply">1,000,000</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">Ù…ØªØ¯Ø§ÙˆÙ„</div>
                    <div class="stat-value" id="circulatingSupply">500,000</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø³ÙˆÙ‚ÙŠØ©</div>
                    <div class="stat-value" id="marketCap">5,000,000</div>
                </div>
            </div>
            <canvas id="tokenChart" style="width: 100%; height: 300px;"></canvas>
        </div>
    </div>

    <!-- Ù†Ø§ÙØ°Ø© Ø§Ù„ÙˆØ§Ù‚Ø¹ Ø§Ù„Ù…Ø¹Ø²Ø² -->
    <div class="ar-modal" id="arModal">
        <div class="ar-container">
            <div class="ar-close" onclick="closeAR()">âœ•</div>
            <canvas id="arCanvas"></canvas>
            <div style="position: absolute; bottom: 30px; left: 50%; transform: translateX(-50%); color: white; background: rgba(0,0,0,0.7); padding: 10px 20px; border-radius: 50px;">
                <i class="fas fa-hand-pointer"></i> Ø­Ø±Ùƒ Ø§Ù„Ù…Ù†ØªØ¬ ÙÙŠ Ø§Ù„Ù…ÙƒØ§Ù† Ø§Ù„Ù„ÙŠ ØªØ­Ø¨Ù‡
            </div>
        </div>
    </div>

    <!-- Ø§Ù„Ù…ÙŠØªØ§ÙÙŠØ±Ø³ -->
    <div class="metaverse-container" id="metaverseContainer">
        <div class="metaverse-header">
            <i class="fas fa-crown"></i> Ø¹Ø§Ù„Ù… Ù†Ø§Ø±Ø¯Ùˆ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ
        </div>
        <div class="metaverse-close" onclick="exitMetaverse()">âœ•</div>
        <canvas id="metaverseCanvas"></canvas>
    </div>

    <!-- Ù†Ø¸Ø§Ù… Ø§Ù„Ø³Ù…Ø¹Ø© -->
    <div class="container">
        <div class="reputation-bar">
            <div class="reputation-level">
                <div class="level-icon" id="levelIcon">ğŸ‘¤</div>
                <div class="level-info">
                    <div class="level-name" id="levelName">ØªØ§Ø¬Ø± Ù…Ø¨ØªØ¯Ø¦</div>
                    <div class="level-progress">
                        <div class="progress-fill" id="levelProgress" style="width: 0%;"></div>
                    </div>
                </div>
                <div class="level-points" id="levelPoints">0/1000 Ù†Ù‚Ø·Ø©</div>
            </div>
        </div>
    </div>

    <!-- Ø§Ù„ÙÙˆØªØ± -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-col">
                    <h3>Ø³ÙˆÙ‚ Ø§Ù„Ø¬Ù†</h3>
                    <p>Ø£ÙˆÙ„ Ø³ÙˆÙ‚ Ø¹Ø±Ø¨ÙŠ Ø¨Ø§Ù„ÙˆØ§Ù‚Ø¹ Ø§Ù„Ù…Ø¹Ø²Ø² ÙˆØ§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</p>
                    <p><i class="fas fa-users"></i> Ø¹Ø¯Ø¯ Ø§Ù„ØªØ¬Ø§Ø±: <span id="totalMerchants">25</span></p>
                    <p><i class="fas fa-box"></i> Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª: <span id="totalProducts">150</span></p>
                </div>
                <div class="footer-col">
                    <h3>Ø±ÙˆØ§Ø¨Ø· Ø³Ø­Ø±ÙŠØ©</h3>
                    <p><i class="fas fa-magic"></i> Ø¹Ø¬Ù„Ø© Ø§Ù„Ø­Ø¸</p>
                    <p><i class="fas fa-gift"></i> Ø§Ù„ØµÙ†Ø§Ø¯ÙŠÙ‚ Ø§Ù„ØºØ§Ù…Ø¶Ø©</p>
                    <p><i class="fas fa-coins"></i> Ø³ÙˆÙ‚ Ø§Ù„ØªÙˆÙƒÙ†Ø²</p>
                    <p><i class="fas fa-crown"></i> Ø§Ù„Ù…ÙŠØªØ§ÙÙŠØ±Ø³</p>
                </div>
                <div class="footer-col">
                    <h3>Ø§ØªØµØ§Ù„ Ù…Ø¹ Ø§Ù„Ø¬Ù†</h3>
                    <p><i class="fab fa-whatsapp"></i> +213 562243648</p>
                    <p><i class="fas fa-envelope"></i> jinn@nardoo.com</p>
                    <p><i class="fab fa-discord"></i> Ù†Ø§Ø±Ø¯Ùˆ_Ø§Ù„Ø¬Ù†</p>
                </div>
            </div>
            <div class="copyright">
                Â© 2026 Ø³ÙˆÙ‚ Ø§Ù„Ø¬Ù† - Ø­ÙŠØ« ØªØªØ­Ù‚Ù‚ Ø§Ù„Ø£Ù…Ù†ÙŠØ§Øª âœ¨
            </div>
        </div>
    </footer>

    <script>
        // ========== Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ==========
        function showNotification(message, type = 'info') {
            const container = document.getElementById('notificationContainer');
            const notification = document.createElement('div');
            notification.className = 'notification';
            notification.innerHTML = `
                <i class="fas ${type === 'success' ? 'fa-check-circle' : type === 'error' ? 'fa-times-circle' : 'fa-info-circle'}"></i>
                <span>${message}</span>
            `;
            container.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // ========== Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ØªØ¬Ø± ==========
        let products = [
            { id: 1, name: "Ø¨Ø´Øª Ù…Ù„ÙƒÙŠ Ø³Ø­Ø±ÙŠ", category: "clothes", categoryName: "Ù…Ù„Ø§Ø¨Ø³", price: 19500, stock: 15, image: "", merchant: "Ù…ØªØ¬Ø± Ø§Ù„Ù…Ù„ÙˆÙƒ", ar: true, tokenReward: 50 },
            { id: 2, name: "Ø²Ø¹ÙØ±Ø§Ù† Ø£Ø­Ù…Ø± Ù†Ø§Ø¯Ø±", category: "spices", categoryName: "ØªÙˆØ§Ø¨Ù„", price: 3500, stock: 25, image: "", merchant: "Ø¨Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø¬Ù†", ar: false, tokenReward: 10 },
            { id: 3, name: "Ø¢ÙŠÙÙˆÙ† 15 Ø¨Ø±Ùˆ", category: "phones", categoryName: "Ù‡ÙˆØ§ØªÙ", price: 120000, stock: 5, image: "", merchant: "Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„", ar: true, tokenReward: 300 },
            { id: 4, name: "Ù…ØµØ¨Ø§Ø­ Ø¹Ù„Ø§Ø¡ Ø§Ù„Ø¯ÙŠÙ†", category: "magic", categoryName: "Ù…Ù†ØªØ¬Ø§Øª Ø³Ø­Ø±ÙŠØ©", price: 5000, stock: 3, image: "", merchant: "Ø§Ù„Ø£Ø³Ø§Ø·ÙŠØ±", ar: true, tokenReward: 100 }
        ];

        let users = [];
        let currentUser = { id: 1, name: "Ø²Ø§Ø¦Ø±", tokenBalance: 1000, level: 1, points: 450 };
        let merchants = [];
        let transactions = [];
        
        // Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙˆÙƒÙ†Ø²
        class NardooToken {
            constructor() {
                this.tokenName = "NARD";
                this.exchangeRate = 10;
                this.totalSupply = 1000000;
                this.circulatingSupply = 500000;
            }
            
            earnTokens(userId, action) {
                const rewards = {
                    'purchase': 10,
                    'review': 5,
                    'share': 3,
                    'referral': 50,
                    'daily_login': 1,
                    'wheel': 100,
                    'mystery': 200
                };
                
                const tokens = rewards[action] || 0;
                currentUser.tokenBalance += tokens;
                this.circulatingSupply += tokens;
                
                showNotification(`âœ¨ Ø±Ø¨Ø­Øª ${tokens} NARD!`, 'success');
                updateTokenDisplay();
                
                return tokens;
            }
            
            spendTokens(userId, amount, reason) {
                if (currentUser.tokenBalance < amount) {
                    showNotification('Ø±ØµÙŠØ¯ Ø§Ù„ØªÙˆÙƒÙ†Ø² ØºÙŠØ± ÙƒØ§ÙÙŠ!', 'error');
                    return false;
                }
                
                currentUser.tokenBalance -= amount;
                showNotification(`ØªÙ… ØµØ±Ù ${amount} NARD Ù…Ù‚Ø§Ø¨Ù„ ${reason}`, 'info');
                updateTokenDisplay();
                return true;
            }
        }

        const tokenSystem = new NardooToken();

        // ========== Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ Ø¬Ù†ÙŠ ==========
        class JinniAI {
            constructor() {
                this.responses = {
                    'Ù…Ø±Ø­Ø¨Ø§': 'ÙˆØ¹Ù„ÙŠÙƒÙ… Ø§Ù„Ø³Ù„Ø§Ù…! ØªØ´Ø±ÙÙ†Ø§ Ø¨Ø®Ø¯Ù…ØªÙƒ ÙÙŠ Ø³ÙˆÙ‚ Ø§Ù„Ø¬Ù† âœ¨',
                    'Ø³Ø¹Ø±': 'Ø¯Ø¹Ù†ÙŠ Ø£Ø¨Ø­Ø« Ù„Ùƒ Ø¹Ù† Ø£ÙØ¶Ù„ Ø§Ù„Ø£Ø³Ø¹Ø§Ø±...',
                    'Ù…Ù†ØªØ¬': 'Ù…Ù…ØªØ§Ø²! Ø®Ù„ÙŠÙ†ÙŠ Ø£Ø³Ø§Ø¹Ø¯Ùƒ ØªÙ„Ø§Ù‚ÙŠ Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨',
                    'Ø´Ø­Ù†': 'Ù†ÙˆØµÙ„ Ù„ÙƒÙ„ Ø§Ù„ÙˆÙ„Ø§ÙŠØ§Øª Ø®Ù„Ø§Ù„ 3-5 Ø£ÙŠØ§Ù… Ø¹Ù…Ù„',
                    'Ø®ØµÙ…': 'Ù„Ø­Ø¸Ø© Ø¨Ø£Ø¨Ø­Ø« Ù„Ùƒ Ø¹Ù† Ø£Ù‚ÙˆÙ‰ Ø§Ù„Ø¹Ø±ÙˆØ¶...',
                    'ØªÙˆÙƒÙ†Ø²': 'Ù†Ù‚Ø§Ø·Ùƒ Ø§Ù„Ø­Ø§Ù„ÙŠØ©: ' + currentUser.tokenBalance + ' NARD',
                    'Ø¹Ø¬Ù„Ø©': 'Ø¹Ø¬Ù„Ø© Ø§Ù„Ø­Ø¸ Ù…ÙˆØ¬ÙˆØ¯Ø© ÙÙŠ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©! Ø¬Ø±Ø¨ Ø­Ø¸Ùƒ',
                    'Ù…ÙŠØªØ§ÙÙŠØ±Ø³': 'ØªÙ‚Ø¯Ø± ØªØ¯Ø®Ù„ Ø¹Ø§Ù„Ù…Ù†Ø§ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ Ù…Ù† Ø²Ø± Ø§Ù„Ù…ÙŠØªØ§ÙÙŠØ±Ø³',
                    'Ø³Ø­Ø±': 'Ø§ÙƒØªØ´Ù Ù…Ù†ØªØ¬Ø§ØªÙ†Ø§ Ø§Ù„Ø³Ø­Ø±ÙŠØ© ÙÙŠ Ù‚Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø³Ø­Ø±ÙŠØ©'
                };
            }
            
            async processMessage(message) {
                showNotification('Ø¬Ù†ÙŠ ÙŠÙÙƒØ±... ğŸ¤”', 'info');
                
                await this.delay(1000);
                
                let response = "Ø¹ÙÙˆØ§Ù‹ØŒ Ù…Ø§ ÙÙ‡Ù…ØªØ´ Ø³Ø¤Ø§Ù„Ùƒ. Ù…Ù…ÙƒÙ† ØªÙˆØ¶Ø­ Ø£ÙƒØ«Ø±ØŸ";
                
                for (let [key, value] of Object.entries(this.responses)) {
                    if (message.includes(key)) {
                        response = value;
                        break;
                    }
                }
                
                return response;
            }
            
            delay(ms) {
                return new Promise(resolve => setTimeout(resolve, ms));
            }
        }

        const jinni = new JinniAI();

        async function handleJinniInput(event) {
            if (event.key === 'Enter') {
                const input = document.getElementById('jinniInput');
                const message = input.value;
                const chat = document.getElementById('jinniChat');
                
                chat.innerHTML += `<div class="message user">${message}</div>`;
                
                const response = await jinni.processMessage(message);
                chat.innerHTML += `<div class="message bot">âœ¨ ${response}</div>`;
                
                input.value = '';
                chat.scrollTop = chat.scrollHeight;
            }
        }

        // ========== Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ==========
        function displayProducts() {
            const container = document.getElementById('productsContainer');
            
            container.innerHTML = products.map(p => `
                <div class="product-card" onclick="showProductDetails(${p.id})">
                    ${p.ar ? '<span class="ar-badge" onclick="event.stopPropagation(); openAR(${p.id})"><i class="fas fa-camera"></i> Ø¬Ø±Ø¨ Ø¨Ø§Ù„ÙˆØ§Ù‚Ø¹</span>' : ''}
                    <div class="product-image">
                        <div class="no-image" style="height: 100%; display: flex; align-items: center; justify-content: center; background: linear-gradient(135deg, var(--jinn-green), var(--mystic-purple));">
                            <i class="fas fa-crown" style="font-size: 80px; color: var(--magic-gold);"></i>
                        </div>
                    </div>
                    <div class="product-info">
                        <div class="product-title">${p.name}</div>
                        <div class="product-price">${p.price.toLocaleString()}</div>
                        <div class="product-token"><i class="fas fa-coins"></i> ØªÙƒØ³Ø¨ ${p.tokenReward} NARD</div>
                        <div class="product-stock ${p.stock > 0 ? 'in-stock' : 'out-of-stock'}">
                            <i class="fas ${p.stock > 0 ? 'fa-check-circle' : 'fa-times-circle'}"></i>
                            ${p.stock > 0 ? 'Ù…ØªÙˆÙØ±' : 'Ù†ÙØ¯'}
                        </div>
                        <button class="ar-button" onclick="event.stopPropagation(); openAR(${p.id})">
                            <i class="fas fa-vr-cardboard"></i> Ø¬Ø±Ø¨ Ø¨Ø§Ù„ÙˆØ§Ù‚Ø¹ Ø§Ù„Ù…Ø¹Ø²Ø²
                        </button>
                        <button class="buy-button" onclick="event.stopPropagation(); buyProduct(${p.id})">
                            <i class="fas fa-shopping-cart"></i> Ø§Ø´ØªØ±Ù Ø§Ù„Ø¢Ù†
                        </button>
                    </div>
                </div>
            `).join('');
        }

        // ========== Ù†Ø¸Ø§Ù… Ø§Ù„ÙˆØ§Ù‚Ø¹ Ø§Ù„Ù…Ø¹Ø²Ø² ==========
        function openAR(productId) {
            document.getElementById('arModal').style.display = 'flex';
            
            const canvas = document.getElementById('arCanvas');
            const ctx = canvas.getContext('2d');
            
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            
            // Ù…Ø­Ø§ÙƒØ§Ø© ÙƒØ§Ù…ÙŠØ±Ø§
            ctx.fillStyle = '#1a1a1a';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Ø±Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬
            ctx.shadowColor = 'rgba(212, 175, 55, 0.5)';
            ctx.shadowBlur = 20;
            ctx.fillStyle = 'rgba(212, 175, 55, 0.8)';
            ctx.beginPath();
            ctx.arc(canvas.width/2, canvas.height/2, 100, 0, Math.PI * 2);
            ctx.fill();
            
            ctx.shadowBlur = 0;
            ctx.fillStyle = 'white';
            ctx.font = 'bold 20px Cairo';
            ctx.textAlign = 'center';
            ctx.fillText('âœ¨ Ø§Ù„Ù…Ù†ØªØ¬ ÙÙŠ Ù…ÙƒØ§Ù†Ùƒ âœ¨', canvas.width/2, canvas.height/2 - 50);
            
            showNotification('Ø­Ø±Ùƒ Ø§Ù„Ø¬ÙˆØ§Ù„ ÙˆØ´ÙˆÙ Ø§Ù„Ù…Ù†ØªØ¬ ÙÙŠ Ø¨ÙŠØªÙƒ!', 'info');
        }

        function closeAR() {
            document.getElementById('arModal').style.display = 'none';
        }

        // ========== Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ÙŠØªØ§ÙÙŠØ±Ø³ ==========
        function enterMetaverse() {
            document.getElementById('metaverseContainer').style.display = 'block';
            
            const canvas = document.getElementById('metaverseCanvas');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            
            initMetaverse(canvas);
        }

        function exitMetaverse() {
            document.getElementById('metaverseContainer').style.display = 'none';
        }

        function initMetaverse(canvas) {
            const scene = new THREE.Scene();
            scene.background = new THREE.Color(0x0a0f0d);
            
            const camera = new THREE.PerspectiveCamera(75, canvas.width / canvas.height, 0.1, 1000);
            camera.position.set(0, 2, 10);
            
            const renderer = new THREE.WebGLRenderer({ canvas });
            renderer.setSize(canvas.width, canvas.height);
            
            // Ø¥Ø¶Ø§Ø¡Ø©
            const light = new THREE.PointLight(0xD4AF37, 1, 100);
            light.position.set(0, 5, 0);
            scene.add(light);
            
            // Ø£Ø±Ø¶ÙŠØ©
            const floorGeometry = new THREE.PlaneGeometry(20, 20);
            const floorMaterial = new THREE.MeshStandardMaterial({ color: 0x1a3a32 });
            const floor = new THREE.Mesh(floorGeometry, floorMaterial);
            floor.rotation.x = -Math.PI / 2;
            scene.add(floor);
            
            // Ø±ÙÙˆÙ
            for (let i = 0; i < 5; i++) {
                const shelfGeometry = new THREE.BoxGeometry(2, 1, 1);
                const shelfMaterial = new THREE.MeshStandardMaterial({ color: 0xD4AF37 });
                const shelf = new THREE.Mesh(shelfGeometry, shelfMaterial);
                shelf.position.set(i * 3 - 6, 0.5, 0);
                scene.add(shelf);
            }
            
            function animate() {
                requestAnimationFrame(animate);
                
                // Ø¯ÙˆØ±Ø§Ù† Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§
                camera.position.x = Math.sin(Date.now() * 0.001) * 5;
                camera.lookAt(0, 1, 0);
                
                renderer.render(scene, camera);
            }
            
            animate();
        }

        // ========== Ø¹Ø¬Ù„Ø© Ø§Ù„Ø­Ø¸ ==========
        function drawWheel() {
            const canvas = document.getElementById('wheelCanvas');
            const ctx = canvas.getContext('2d');
            
            const segments = [
                { label: '100', color: '#D4AF37' },
                { label: '50', color: '#C0C0C0' },
                { label: '200', color: '#6b21a5' },
                { label: '0', color: '#f97316' },
                { label: '500', color: '#D4AF37' },
                { label: 'Ø®Ø³Ø§Ø±Ø©', color: '#C0C0C0' },
                { label: '1000', color: '#6b21a5' },
                { label: 'Ù…Ø¬Ø¯Ø¯', color: '#f97316' }
            ];
            
            let startAngle = 0;
            const anglePerSegment = (Math.PI * 2) / segments.length;
            
            for (let i = 0; i < segments.length; i++) {
                const endAngle = startAngle + anglePerSegment;
                
                ctx.beginPath();
                ctx.moveTo(150, 150);
                ctx.arc(150, 150, 140, startAngle, endAngle);
                ctx.closePath();
                
                ctx.fillStyle = segments[i].color;
                ctx.fill();
                
                ctx.save();
                ctx.translate(150, 150);
                ctx.rotate(startAngle + anglePerSegment / 2);
                ctx.textAlign = 'center';
                ctx.fillStyle = 'white';
                ctx.font = 'bold 12px Cairo';
                ctx.fillText(segments[i].label, 70, 0);
                ctx.restore();
                
                startAngle = endAngle;
            }
        }

        function spinWheel() {
            if (!tokenSystem.spendTokens(currentUser.id, 100, 'Ø¹Ø¬Ù„Ø© Ø§Ù„Ø­Ø¸')) {
                return;
            }
            
            const wheel = document.getElementById('wheel');
            const rotation = 1440 + Math.floor(Math.random() * 360);
            wheel.style.transform = `rotate(${rotation}deg)`;
            
            setTimeout(() => {
                const prizes = [100, 50, 200, 0, 500, 0, 1000, 50];
                const randomIndex = Math.floor(Math.random() * prizes.length);
                const prize = prizes[randomIndex];
                
                if (prize > 0) {
                    tokenSystem.earnTokens(currentUser.id, 'wheel');
                    document.getElementById('prizeDisplay').innerHTML = `ğŸ‰ Ù…Ø¨Ø±ÙˆÙƒ! Ø±Ø¨Ø­Øª ${prize} NARD!`;
                } else {
                    document.getElementById('prizeDisplay').innerHTML = 'ğŸ˜¢ Ø­Ø¸ Ø£ÙˆÙØ± Ø§Ù„Ù…Ø±Ø© Ø§Ù„Ø¬Ø§ÙŠØ©!';
                }
            }, 3000);
        }

        // ========== Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙˆÙƒÙ†Ø² ==========
        function updateTokenDisplay() {
            document.getElementById('tokenBalance').innerHTML = currentUser.tokenBalance + ' <small>NARD</small>';
        }

        function showTokenMarket() {
            const market = document.getElementById('tokenMarket');
            market.style.display = market.style.display === 'none' ? 'block' : 'none';
            
            if (market.style.display === 'block') {
                // Ø±Ø³Ù… Ø¨ÙŠØ§Ù†ÙŠ
                const ctx = document.getElementById('tokenChart').getContext('2d');
                new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: ['ÙŠÙ†Ø§ÙŠØ±', 'ÙØ¨Ø±Ø§ÙŠØ±', 'Ù…Ø§Ø±Ø³', 'Ø£Ø¨Ø±ÙŠÙ„', 'Ù…Ø§ÙŠÙˆ', 'ÙŠÙˆÙ†ÙŠÙˆ'],
                        datasets: [{
                            label: 'Ø³Ø¹Ø± NARD',
                            data: [8, 9, 10, 12, 11, 13],
                            borderColor: '#D4AF37',
                            backgroundColor: 'rgba(212, 175, 55, 0.1)'
                        }]
                    },
                    options: {
                        responsive: true,
                        plugins: {
                            legend: {
                                labels: { color: 'white' }
                            }
                        }
                    }
                });
            }
        }

        function stakeTokens() {
            const amount = prompt('ÙƒÙ… ØªÙˆÙƒÙ† ØªØ±ÙŠØ¯ ØªÙƒØ¹ÙŠØ¨ØŸ', '100');
            if (amount) {
                if (tokenSystem.spendTokens(currentUser.id, parseInt(amount), 'ØªÙƒØ¹ÙŠØ¨')) {
                    showNotification(`ØªÙ… ØªÙƒØ¹ÙŠØ¨ ${amount} NARD Ù„Ù…Ø¯Ø© 30 ÙŠÙˆÙ… Ø¨Ù†Ø³Ø¨Ø© 5%`, 'success');
                }
            }
        }

        function buyTokens() {
            const amount = prompt('ÙƒÙ… ØªÙˆÙƒÙ† ØªØ±ÙŠØ¯ Ø´Ø±Ø§Ø¡ØŸ (1 NARD = 10 Ø¯Ø¬)', '100');
            if (amount) {
                const cost = amount * 10;
                if (confirm(`Ø´Ø±Ø§Ø¡ ${amount} NARD Ø¨Ù‚ÙŠÙ…Ø© ${cost} Ø¯Ø¬ØŸ`)) {
                    currentUser.tokenBalance += parseInt(amount);
                    updateTokenDisplay();
                    showNotification(`ØªÙ… Ø´Ø±Ø§Ø¡ ${amount} NARD Ø¨Ù†Ø¬Ø§Ø­`, 'success');
                }
            }
        }

        function sellTokens() {
            const amount = prompt('ÙƒÙ… ØªÙˆÙƒÙ† ØªØ±ÙŠØ¯ Ø¨ÙŠØ¹ØŸ', '100');
            if (amount) {
                if (tokenSystem.spendTokens(currentUser.id, parseInt(amount), 'Ø¨ÙŠØ¹')) {
                    showNotification(`ØªÙ… Ø¨ÙŠØ¹ ${amount} NARD Ø¨Ù†Ø¬Ø§Ø­`, 'success');
                }
            }
        }

        // ========== Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„ØºØ§Ù…Ø¶ ==========
        function displayMysteryBoxes() {
            const boxes = [
                { name: 'Ø¨Ø±ÙˆÙ†Ø²ÙŠ', price: 1000, icon: 'fa-box', color: '#C0C0C0' },
                { name: 'ÙØ¶ÙŠ', price: 5000, icon: 'fa-cube', color: '#D4AF37' },
                { name: 'Ø°Ù‡Ø¨ÙŠ', price: 10000, icon: 'fa-gem', color: '#f97316' },
                { name: 'Ø£Ø³Ø·ÙˆØ±ÙŠ', price: 50000, icon: 'fa-crown', color: '#6b21a5' }
            ];
            
            document.getElementById('mysteryBoxes').innerHTML = boxes.map(b => `
                <div class="mystery-box" style="background: linear-gradient(135deg, ${b.color}, ${b.color}80);" onclick="openMysteryBox('${b.name}')">
                    <i class="fas ${b.icon}"></i>
                    <h3>ØµÙ†Ø¯ÙˆÙ‚ ${b.name}</h3>
                    <div class="price">${b.price} NARD</div>
                </div>
            `).join('');
        }

        function openMysteryBox(boxName) {
            const prices = { 'Ø¨Ø±ÙˆÙ†Ø²ÙŠ': 1000, 'ÙØ¶ÙŠ': 5000, 'Ø°Ù‡Ø¨ÙŠ': 10000, 'Ø£Ø³Ø·ÙˆØ±ÙŠ': 50000 };
            const price = prices[boxName];
            
            if (tokenSystem.spendTokens(currentUser.id, price, 'ØµÙ†Ø¯ÙˆÙ‚ ØºØ§Ù…Ø¶')) {
                const prizes = [100, 200, 500, 1000, 2000, 5000];
                const prize = prizes[Math.floor(Math.random() * prizes.length)];
                
                currentUser.tokenBalance += prize;
                updateTokenDisplay();
                
                showNotification(`ğŸ Ù…Ø¨Ø±ÙˆÙƒ! Ø±Ø¨Ø­Øª ${prize} NARD Ù…Ù† Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚ ${boxName}!`, 'success');
            }
        }

        // ========== Ø§Ù„Ù…Ø²Ø§Ø¯ ==========
        function displayAuctions() {
            const auctions = [
                { id: 1, name: 'Ø¢ÙŠÙÙˆÙ† 15 Ø¨Ø±Ùˆ', currentBid: 100000, timeLeft: 300, bids: 5 },
                { id: 2, name: 'Ø¨Ø´Øª Ù…Ù„ÙƒÙŠ', currentBid: 15000, timeLeft: 600, bids: 3 },
                { id: 3, name: 'Ù…ØµØ¨Ø§Ø­ Ø³Ø­Ø±ÙŠ', currentBid: 3000, timeLeft: 120, bids: 8 }
            ];
            
            document.getElementById('auctionItems').innerHTML = auctions.map(a => `
                <div class="auction-item">
                    <div class="auction-image">
                        <i class="fas fa-crown" style="font-size: 60px; color: var(--magic-gold);"></i>
                    </div>
                    <div class="auction-details">
                        <div class="auction-title">${a.name}</div>
                        <div class="auction-bid">ğŸ’° ${a.currentBid.toLocaleString()} Ø¯Ø¬</div>
                        <div class="auction-timer">â° ${Math.floor(a.timeLeft / 60)}:${a.timeLeft % 60}</div>
                        <div>ğŸ‘¥ ${a.bids} Ù…Ø²Ø§ÙŠØ¯</div>
                    </div>
                    <button class="bid-button" onclick="placeBid(${a.id})">Ø²Ø§ÙŠØ¯</button>
                </div>
            `).join('');
        }

        function placeBid(auctionId) {
            const amount = prompt('ÙƒÙ… ØªØ±ÙŠØ¯ Ø§Ù„Ù…Ø²Ø§ÙŠØ¯Ø©ØŸ', '1000');
            if (amount) {
                showNotification(`ØªÙ…Øª Ø§Ù„Ù…Ø²Ø§ÙŠØ¯Ø© Ø¨ ${amount} Ø¯Ø¬`, 'success');
            }
        }

        // ========== Ù†Ø¸Ø§Ù… Ø§Ù„Ø³Ù…Ø¹Ø© ==========
        function updateReputation() {
            const levels = [
                { name: 'ØªØ§Ø¬Ø± Ù…Ø¨ØªØ¯Ø¦', points: 0, icon: 'ğŸ‘¤' },
                { name: 'ØªØ§Ø¬Ø± ÙØ¶ÙŠ', points: 1000, icon: 'ğŸ¥ˆ' },
                { name: 'ØªØ§Ø¬Ø± Ø°Ù‡Ø¨ÙŠ', points: 5000, icon: 'ğŸ¥‡' },
                { name: 'ØªØ§Ø¬Ø± Ø£Ø³Ø·ÙˆØ±ÙŠ', points: 10000, icon: 'ğŸ‘‘' },
                { name: 'Ù…Ù„Ùƒ Ø§Ù„ØªØ¬Ø§Ø±', points: 50000, icon: 'ğŸ¤´' }
            ];
            
            let currentLevel = levels[0];
            let nextLevel = levels[1];
            
            for (let i = 0; i < levels.length - 1; i++) {
                if (currentUser.points >= levels[i].points && currentUser.points < levels[i + 1].points) {
                    currentLevel = levels[i];
                    nextLevel = levels[i + 1];
                    break;
                }
            }
            
            if (currentUser.points >= levels[levels.length - 1].points) {
                currentLevel = levels[levels.length - 1];
                nextLevel = levels[levels.length - 1];
            }
            
            const progress = ((currentUser.points - currentLevel.points) / (nextLevel.points - currentLevel.points)) * 100;
            
            document.getElementById('levelIcon').innerHTML = currentLevel.icon;
            document.getElementById('levelName').innerHTML = currentLevel.name;
            document.getElementById('levelProgress').style.width = progress + '%';
            document.getElementById('levelPoints').innerHTML = `${currentUser.points}/${nextLevel.points} Ù†Ù‚Ø·Ø©`;
        }

        // ========== Ø§Ù„Ø¨Ø­Ø« ==========
        function searchProducts() {
            const term = document.getElementById('searchInput').value.toLowerCase();
            
            if (term.length > 2) {
                showNotification(`ğŸ” Ø§Ù„Ø¨Ø­Ø« Ø¹Ù†: ${term}`, 'info');
            }
        }

        function filterProducts(category) {
            showNotification(`ØªÙ… ØªØµÙÙŠØ© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª: ${category}`, 'info');
            displayProducts();
        }

        // ========== Ø§Ù„Ø´Ø±Ø§Ø¡ ==========
        function buyProduct(productId) {
            const product = products.find(p => p.id === productId);
            
            if (product.stock <= 0) {
                showNotification('Ø§Ù„Ù…Ù†ØªØ¬ ØºÙŠØ± Ù…ØªÙˆÙØ±', 'error');
                return;
            }
            
            product.stock--;
            tokenSystem.earnTokens(currentUser.id, 'purchase');
            currentUser.points += 10;
            
            showNotification(`âœ… ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© ${product.name} Ø¥Ù„Ù‰ Ø³Ù„Ø© Ù…Ø´ØªØ±ÙŠØ§ØªÙƒ`, 'success');
            updateReputation();
            displayProducts();
        }

        function showProductDetails(productId) {
            const product = products.find(p => p.id === productId);
            showNotification(`ğŸ“¦ ${product.name} - ${product.price} Ø¯Ø¬`, 'info');
        }

        // ========== ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØµÙØ­Ø© ==========
        document.addEventListener('DOMContentLoaded', function() {
            displayProducts();
            displayMysteryBoxes();
            displayAuctions();
            drawWheel();
            updateTokenDisplay();
            updateReputation();
            
            // ØªØ­Ø¯ÙŠØ« Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…ØªÙˆØ§Ø¬Ø¯ÙŠÙ†
            setInterval(() => {
                const online = document.getElementById('onlineUsers');
                online.innerHTML = Math.floor(Math.random() * 100) + 150;
            }, 10000);
        });

        // Ø¬Ø¹Ù„ Ø§Ù„Ø¯ÙˆØ§Ù„ Ø¹Ø§Ù„Ù…ÙŠØ©
        window.searchProducts = searchProducts;
        window.filterProducts = filterProducts;
        window.buyProduct = buyProduct;
        window.showProductDetails = showProductDetails;
        window.openAR = openAR;
        window.closeAR = closeAR;
        window.enterMetaverse = enterMetaverse;
        window.exitMetaverse = exitMetaverse;
        window.spinWheel = spinWheel;
        window.showTokenMarket = showTokenMarket;
        window.stakeTokens = stakeTokens;
        window.buyTokens = buyTokens;
        window.sellTokens = sellTokens;
        window.openMysteryBox = openMysteryBox;
        window.placeBid = placeBid;
        window.handleJinniInput = handleJinniInput;
    </script>
</body>
</html>
