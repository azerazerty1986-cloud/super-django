<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù†Ø§Ø±Ø¯Ùˆ Ø¨Ø±Ùˆ | Ø§Ù„Ù…ØªØ¬Ø± Ø§Ù„Ø¬Ù‡Ù†ÙŠ Ø§Ù„Ø´Ø§Ù…Ù„</title>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;800;900&display=swap" rel="stylesheet">
    <!-- Font Awesome 6 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Anime.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <!-- QR Code Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <!-- html2canvas for PDF -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <!-- jspdf for PDF generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Cairo', sans-serif;
            background: linear-gradient(135deg, #0b1e1a 0%, #1a2f2a 100%);
            color: #e5f0ed;
            line-height: 1.6;
            min-height: 100vh;
            transition: background 0.3s, color 0.3s;
        }

        /* Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù†Ù‡Ø§Ø±ÙŠ */
        body.light-mode {
            background: linear-gradient(135deg, #f5f5f5 0%, #e0e0e0 100%);
            color: #333;
        }

        body.light-mode .product-card {
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(0, 0, 0, 0.1);
        }

        body.light-mode .product-title {
            color: #333;
        }

        .container {
            width: 95%;
            max-width: 1400px;
            margin: 0 auto;
            position: relative;
        }

        /* Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ù†Ø§Ø±Ø¯Ùˆ Ø§Ù„Ø¬Ù‡Ù†ÙŠØ© */
        :root {
            --nardoo-deep: #0F2A24;
            --nardoo-dark: #1A3A32;
            --nardoo: #2C5E4F;
            --nardoo-light: #3E826B;
            --nardoo-mint: #8FC1B5;
            --gold-deep: #A67C4D;
            --gold: #D4AF37;
            --gold-light: #F4E3B1;
            --glass: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.1);
            --shadow-neon: 0 10px 30px rgba(44, 94, 79, 0.3);
            --shadow-gold: 0 10px 30px rgba(212, 175, 55, 0.2);
        }

        /* ØªØ£Ø«ÙŠØ±Ø§Øª Ø­Ø±ÙƒÙŠØ© */
        .glow-text {
            text-shadow: 0 0 10px rgba(212, 175, 55, 0.3);
        }

        /* Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª */
        .notification-container {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 9999;
            display: flex;
            flex-direction: column;
            gap: 10px;
            pointer-events: none;
        }

        .notification {
            background: var(--glass);
            backdrop-filter: blur(20px);
            border: 2px solid var(--gold);
            border-radius: 50px;
            padding: 15px 30px;
            color: white;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            animation: slideIn 0.3s ease, slideOut 0.3s ease 2.7s forwards;
            pointer-events: auto;
            min-width: 300px;
        }

        body.light-mode .notification {
            background: white;
            color: #333;
            border-color: var(--gold-deep);
        }

        .notification.success { border-right: 10px solid #4ade80; }
        .notification.error { border-right: 10px solid #f87171; }
        .notification.warning { border-right: 10px solid #fbbf24; }
        .notification.info { border-right: 10px solid #60a5fa; }

        @keyframes slideIn {
            from { transform: translateY(-100%); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        @keyframes slideOut {
            from { transform: translateY(0); opacity: 1; }
            to { transform: translateY(-100%); opacity: 0; }
        }

        /* Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù„ÙˆÙŠ Ø§Ù„Ù…ØªØ­Ø±Ùƒ */
        .top-bar {
            background: rgba(10, 30, 25, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--gold-deep);
            padding: 12px 0;
            position: sticky;
            top: 0;
            z-index: 1001;
            animation: slideDown 0.5s ease;
        }

        body.light-mode .top-bar {
            background: rgba(255, 255, 255, 0.95);
            border-bottom: 1px solid var(--gold);
        }

        @keyframes slideDown {
            from { transform: translateY(-100%); }
            to { transform: translateY(0); }
        }

        .top-bar .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }

        .top-bar i {
            color: var(--gold);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        /* Ø´Ø±ÙŠØ· Ø§Ù„Ø¨Ø­Ø« */
        .search-container {
            position: relative;
            width: 300px;
        }

        .search-input {
            width: 100%;
            padding: 10px 20px;
            padding-right: 45px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid var(--glass-border);
            border-radius: 50px;
            color: white;
            font-family: 'Cairo', sans-serif;
            font-size: 14px;
            transition: all 0.3s;
        }

        body.light-mode .search-input {
            background: rgba(255, 255, 255, 0.9);
            color: #333;
            border-color: var(--gold-deep);
        }

        .search-input:focus {
            outline: none;
            border-color: var(--gold);
            background: rgba(255, 255, 255, 0.15);
            box-shadow: 0 0 20px rgba(212, 175, 55, 0.3);
        }

        .search-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        body.light-mode .search-input::placeholder {
            color: rgba(0, 0, 0, 0.5);
        }

        .search-icon {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gold);
            font-size: 18px;
            pointer-events: none;
        }

        .search-clear {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gold-light);
            cursor: pointer;
            display: none;
            font-size: 14px;
        }

        .search-clear:hover {
            color: var(--gold);
        }

        /* Ø§Ù„Ù‡ÙŠØ¯Ø± */
        .header {
            background: var(--glass);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 0 0 40px 40px;
            padding: 20px 0;
            margin-bottom: 30px;
            box-shadow: var(--shadow-neon);
            transform-style: preserve-3d;
            perspective: 1000px;
        }

        .header-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 20px;
        }

        .logo {
            transform: translateZ(20px);
            transition: transform 0.3s;
        }

        .logo:hover {
            transform: translateZ(40px) scale(1.05);
        }

        .logo h1 {
            font-size: 42px;
            font-weight: 900;
            background: linear-gradient(135deg, var(--gold) 0%, var(--gold-light) 50%, var(--gold) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-size: 200% auto;
            animation: shine 3s linear infinite;
        }

        @keyframes shine {
            to { background-position: 200% center; }
        }

        .logo span {
            color: var(--nardoo-mint);
            font-size: 16px;
            font-weight: 600;
        }

        .user-actions {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .user-actions a {
            color: var(--gold);
            text-decoration: none;
            transition: all 0.3s;
        }

        .user-actions a:hover {
            transform: scale(1.2);
            color: var(--gold-light);
        }

        /* Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ù‚Ø³Ø§Ù… */
        .categories-nav {
            margin: 20px 0 40px;
        }

        .categories-list {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
            list-style: none;
        }

        .categories-list li a {
            color: white;
            text-decoration: none;
            font-weight: 700;
            padding: 15px 35px;
            border-radius: 50px;
            background: var(--glass);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 18px;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }

        body.light-mode .categories-list li a {
            color: #333;
            background: rgba(255, 255, 255, 0.9);
            border-color: var(--gold-deep);
        }

        .categories-list li a::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(212, 175, 55, 0.3), transparent);
            transition: left 0.5s;
        }

        .categories-list li a:hover::before {
            left: 100%;
        }

        .categories-list li a:hover,
        .categories-list li a.active {
            background: var(--gold);
            color: var(--nardoo-deep);
            border-color: var(--gold);
            transform: translateY(-5px) scale(1.05);
            box-shadow: var(--shadow-gold);
        }

        body.light-mode .categories-list li a.active {
            color: white;
        }

        /* Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù‚Ø³Ù… */
        .section-title {
            text-align: center;
            font-size: 48px;
            font-weight: 900;
            margin: 60px 0;
            position: relative;
            background: linear-gradient(135deg, #fff 0%, var(--gold-light) 50%, #fff 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: floatTitle 3s ease-in-out infinite;
        }

        body.light-mode .section-title {
            background: linear-gradient(135deg, #333 0%, var(--gold-deep) 50%, #333 100%);
            -webkit-background-clip: text;
        }

        @keyframes floatTitle {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .section-title:after {
            content: '';
            display: block;
            width: 200px;
            height: 4px;
            background: linear-gradient(90deg, transparent, var(--gold), var(--gold-deep), var(--gold), transparent);
            margin: 20px auto 0;
            border-radius: 2px;
        }

        /* Ø´Ø¨ÙƒØ© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 35px;
            margin-bottom: 70px;
        }

        .product-card {
            background: var(--glass);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            border-radius: 40px;
            overflow: hidden;
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            transform-style: preserve-3d;
            perspective: 2000px;
        }

        .product-card::after {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: 40px;
            padding: 2px;
            background: linear-gradient(135deg, var(--gold), transparent, var(--nardoo-light));
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.5s;
        }

        .product-card:hover::after {
            opacity: 1;
        }

        .product-card:hover {
            transform: translateY(-20px) rotateX(2deg) rotateY(2deg);
            box-shadow: 0 30px 50px rgba(0, 0, 0, 0.5), 0 0 0 2px var(--gold);
        }

        .product-image {
            height: 280px;
            position: relative;
            overflow: hidden;
            background: linear-gradient(45deg, var(--nardoo-deep), var(--nardoo-dark));
        }

        .product-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: all 0.7s;
        }

        .product-card:hover .product-image img {
            transform: scale(1.15) rotate(2deg);
        }

        .product-image .no-image {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 15px;
            color: var(--gold);
            font-size: 80px;
            background: radial-gradient(circle at center, var(--nardoo) 0%, var(--nardoo-deep) 100%);
        }

        .product-image .no-image span {
            font-size: 16px;
            color: var(--nardoo-mint);
        }

        .product-info {
            padding: 25px;
            background: linear-gradient(180deg, transparent, rgba(0, 0, 0, 0.3));
        }

        .product-category {
            color: var(--gold);
            font-size: 14px;
            font-weight: 800;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .product-title {
            font-size: 24px;
            font-weight: 800;
            margin-bottom: 12px;
            color: white;
        }

        .product-price {
            font-size: 32px;
            font-weight: 900;
            margin-bottom: 15px;
            background: linear-gradient(135deg, var(--gold) 0%, #fff 50%, var(--gold) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            display: inline-block;
        }

        .product-price::after {
            content: 'Ø¯Ø¬';
            font-size: 18px;
            margin-right: 5px;
            color: var(--gold-light);
        }

        .product-stock {
            font-size: 15px;
            margin-bottom: 20px;
            padding: 8px 15px;
            border-radius: 50px;
            background: rgba(0, 0, 0, 0.3);
            display: inline-flex;
            align-items: center;
            gap: 8px;
            border: 1px solid var(--glass-border);
        }

        .in-stock { color: #4ade80; }
        .low-stock { color: #fbbf24; }
        .out-of-stock { color: #f87171; }

        .product-rating {
            display: flex;
            align-items: center;
            gap: 5px;
            margin-bottom: 10px;
            color: var(--gold);
        }

        .product-rating i {
            color: var(--gold);
        }

        .product-rating span {
            color: var(--gold-light);
            font-size: 14px;
        }

        .product-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .add-to-cart, .add-to-wishlist {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 25px;
            font-weight: 700;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.4s;
            font-family: 'Cairo', sans-serif;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            position: relative;
            overflow: hidden;
        }

        .add-to-cart {
            background: linear-gradient(135deg, var(--gold) 0%, var(--gold-deep) 100%);
            color: var(--nardoo-deep);
        }

        .add-to-wishlist {
            background: var(--glass);
            backdrop-filter: blur(10px);
            border: 1px solid var(--gold);
            color: var(--gold);
        }

        .add-to-cart::before, .add-to-wishlist::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .add-to-cart:hover::before, .add-to-wishlist:hover::before {
            width: 300px;
            height: 300px;
        }

        .add-to-cart:hover:not(:disabled) {
            transform: scale(1.05);
            box-shadow: 0 0 30px var(--gold);
        }

        .add-to-wishlist:hover {
            transform: scale(1.05);
            background: var(--gold);
            color: var(--nardoo-deep);
        }

        .add-to-cart:disabled {
            background: #4b5563;
            cursor: not-allowed;
            opacity: 0.5;
        }

        /* Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚ */
        .cart-sidebar {
            position: fixed;
            top: 0;
            left: -400px;
            width: 400px;
            height: 100vh;
            background: var(--nardoo-deep);
            backdrop-filter: blur(20px);
            border-left: 2px solid var(--gold);
            z-index: 2000;
            transition: left 0.3s ease;
            display: flex;
            flex-direction: column;
            padding: 20px;
        }

        body.light-mode .cart-sidebar {
            background: white;
        }

        .cart-sidebar.open {
            left: 0;
        }

        .cart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--gold);
            margin-bottom: 20px;
        }

        .cart-header h3 {
            color: var(--gold);
            font-size: 24px;
        }

        .close-cart {
            color: var(--gold);
            font-size: 24px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .close-cart:hover {
            transform: scale(1.2);
            color: var(--gold-light);
        }

        .cart-items {
            flex: 1;
            overflow-y: auto;
            margin-bottom: 20px;
        }

        .cart-item {
            display: flex;
            gap: 15px;
            padding: 15px;
            background: var(--glass);
            border-radius: 20px;
            margin-bottom: 15px;
            border: 1px solid var(--glass-border);
        }

        .cart-item-image {
            width: 80px;
            height: 80px;
            border-radius: 15px;
            overflow: hidden;
            background: var(--nardoo-dark);
        }

        .cart-item-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .cart-item-info {
            flex: 1;
        }

        .cart-item-title {
            font-weight: 700;
            color: var(--gold);
            margin-bottom: 5px;
        }

        .cart-item-price {
            color: white;
            font-size: 14px;
        }

        .cart-item-quantity {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 10px;
        }

        .cart-item-quantity button {
            background: var(--glass);
            border: 1px solid var(--gold);
            color: var(--gold);
            width: 30px;
            height: 30px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .cart-item-quantity button:hover {
            background: var(--gold);
            color: var(--nardoo-deep);
        }

        .cart-item-quantity span {
            color: white;
            font-weight: 700;
        }

        .remove-item {
            color: #f87171;
            cursor: pointer;
            font-size: 14px;
            margin-top: 5px;
            display: inline-block;
        }

        .cart-footer {
            border-top: 2px solid var(--gold);
            padding-top: 20px;
        }

        .cart-total {
            display: flex;
            justify-content: space-between;
            color: var(--gold);
            font-size: 20px;
            font-weight: 800;
            margin-bottom: 20px;
        }

        .checkout-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, var(--gold) 0%, var(--gold-deep) 100%);
            color: var(--nardoo-deep);
            border: none;
            border-radius: 25px;
            font-weight: 800;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.4s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .checkout-btn:hover {
            transform: scale(1.02);
            box-shadow: 0 0 30px var(--gold);
        }

        /* Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø¯ÙŠØ± */
        .admin-panel {
            background: var(--glass);
            backdrop-filter: blur(20px);
            border: 2px solid var(--glass-border);
            border-radius: 50px;
            padding: 40px;
            margin: 60px 0;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
            animation: glowPulse 4s infinite;
        }

        @keyframes glowPulse {
            0%, 100% { box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4), 0 0 0 2px rgba(212, 175, 55, 0.3); }
            50% { box-shadow: 0 20px 60px rgba(212, 175, 55, 0.3), 0 0 0 4px rgba(212, 175, 55, 0.5); }
        }

        .admin-panel h3 {
            color: white;
            font-size: 36px;
            font-weight: 800;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .admin-panel h3 i {
            color: var(--gold);
            animation: spin 10s linear infinite;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .admin-login {
            max-width: 400px;
            margin: 0 auto 40px;
            padding: 30px;
            background: var(--glass);
            border-radius: 30px;
            border: 1px solid var(--gold);
        }

        .admin-login input {
            width: 100%;
            padding: 15px;
            margin-bottom: 15px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid var(--glass-border);
            border-radius: 20px;
            color: white;
            font-family: 'Cairo', sans-serif;
        }

        .admin-login input:focus {
            border-color: var(--gold);
            outline: none;
        }

        .admin-login button {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, var(--gold) 0%, var(--gold-deep) 100%);
            color: var(--nardoo-deep);
            border: none;
            border-radius: 20px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
        }

        .admin-login button:hover {
            transform: scale(1.02);
            box-shadow: 0 0 20px var(--gold);
        }

        .admin-controls {
            display: none;
        }

        .admin-controls.visible {
            display: block;
        }

        .admin-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: var(--glass);
            border: 1px solid var(--gold);
            border-radius: 30px;
            padding: 20px;
            text-align: center;
        }

        .stat-card i {
            font-size: 40px;
            color: var(--gold);
            margin-bottom: 10px;
        }

        .stat-card h4 {
            color: var(--gold-light);
            font-size: 16px;
            margin-bottom: 10px;
        }

        .stat-card .stat-value {
            font-size: 32px;
            font-weight: 800;
            color: white;
        }

        .inventory-control {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }

        .inventory-item {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid var(--glass-border);
            border-radius: 30px;
            padding: 25px;
            transition: all 0.3s;
            backdrop-filter: blur(5px);
        }

        .inventory-item:hover {
            border-color: var(--gold);
            transform: translateY(-5px);
            background: rgba(212, 175, 55, 0.05);
        }

        /* Ø±ÙØ¹ Ø§Ù„ØµÙˆØ± */
        .image-upload-area {
            border: 2px dashed var(--gold);
            border-radius: 20px;
            padding: 20px;
            text-align: center;
            margin: 15px 0;
            background: rgba(212, 175, 55, 0.05);
            cursor: pointer;
            transition: all 0.3s;
        }

        .image-upload-area:hover {
            border-color: var(--gold-light);
            background: rgba(212, 175, 55, 0.1);
        }

        .image-upload-area i {
            font-size: 40px;
            color: var(--gold);
            margin-bottom: 10px;
        }

        .image-preview {
            width: 100%;
            height: 150px;
            border-radius: 15px;
            overflow: hidden;
            margin-top: 10px;
            display: none;
        }

        .image-preview img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
        .btn-nardo {
            background: linear-gradient(135deg, var(--nardoo) 0%, var(--nardoo-light) 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 40px;
            font-weight: 700;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            border: 1px solid var(--gold);
        }

        .btn-nardo:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 10px 30px rgba(212, 175, 55, 0.3);
        }

        .btn-gold {
            background: linear-gradient(135deg, var(--gold) 0%, var(--gold-deep) 100%);
            color: var(--nardoo-deep);
            font-weight: 800;
        }

        /* Ø§Ù„Ù†ÙˆØ§ÙØ° Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø© */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(15px);
            z-index: 3000;
            justify-content: center;
            align-items: center;
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background: linear-gradient(135deg, var(--nardoo-deep) 0%, var(--nardoo-dark) 100%);
            border: 2px solid var(--gold);
            border-radius: 60px;
            padding: 40px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.5);
            transform: scale(0.9);
            animation: scaleIn 0.3s forwards;
        }

        body.light-mode .modal-content {
            background: white;
        }

        @keyframes scaleIn {
            to { transform: scale(1); }
        }

        .modal-content h2 {
            color: var(--gold);
            font-size: 32px;
            margin-bottom: 30px;
        }

        .modal-content input,
        .modal-content textarea,
        .modal-content select {
            width: 100%;
            padding: 15px;
            margin-bottom: 15px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid var(--glass-border);
            border-radius: 30px;
            color: white;
            font-family: 'Cairo', sans-serif;
            font-size: 16px;
        }

        body.light-mode .modal-content input,
        body.light-mode .modal-content textarea,
        body.light-mode .modal-content select {
            background: white;
            color: #333;
            border-color: var(--gold-deep);
        }

        .modal-content input:focus,
        .modal-content textarea:focus,
        .modal-content select:focus {
            border-color: var(--gold);
            outline: none;
            box-shadow: 0 0 20px rgba(212, 175, 55, 0.3);
        }

        /* QR Code */
        .qr-container {
            display: flex;
            justify-content: center;
            margin: 20px 0;
            padding: 20px;
            background: white;
            border-radius: 20px;
        }

        /* Ø¹Ø¬Ù„Ø© Ø§Ù„Ø­Ø¸ */
        .wheel-container {
            text-align: center;
            margin: 20px 0;
        }

        .wheel {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            border: 5px solid var(--gold);
            margin: 0 auto 20px;
            position: relative;
            overflow: hidden;
            transition: transform 3s cubic-bezier(0.17, 0.67, 0.83, 0.67);
            cursor: pointer;
            background: conic-gradient(
                var(--gold) 0deg 60deg,
                var(--gold-light) 60deg 120deg,
                var(--gold-deep) 120deg 180deg,
                var(--gold) 180deg 240deg,
                var(--gold-light) 240deg 300deg,
                var(--gold-deep) 300deg 360deg
            );
        }

        .wheel::after {
            content: 'ğŸ';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 40px;
        }

        .wheel.spinning {
            transform: rotate(1440deg);
        }

        .prize-message {
            font-size: 24px;
            color: var(--gold);
            margin-top: 20px;
        }

        /* Ø§Ù„ÙÙˆØªØ± */
        .footer {
            background: var(--nardoo-deep);
            padding: 70px 0 30px;
            margin-top: 80px;
            border-top: 3px solid var(--gold);
            position: relative;
            overflow: hidden;
        }

        body.light-mode .footer {
            background: white;
            color: #333;
        }

        .footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--gold), var(--gold-light), var(--gold), transparent);
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }

        .footer-col h3 {
            color: var(--gold);
            font-size: 24px;
            margin-bottom: 20px;
        }

        .footer-col p {
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .footer-col i {
            color: var(--gold);
            width: 20px;
        }

        .copyright {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid var(--gold-deep);
        }

        /* Ø¹Ù„Ø§Ù…Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ */
        .loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--nardoo-deep);
            z-index: 9999;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: opacity 0.5s;
        }

        .loader.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .loader-spinner {
            width: 80px;
            height: 80px;
            border: 5px solid var(--gold);
            border-top-color: transparent;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        /* Ø¨Ø­Ø« Ù…ØªÙ‚Ø¯Ù… */
        .advanced-search {
            background: var(--glass);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 30px;
            display: none;
        }

        .advanced-search.visible {
            display: block;
        }

        .search-filters {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
        }

        .search-filters select,
        .search-filters input {
            padding: 10px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--gold);
            border-radius: 15px;
            color: white;
        }

        /* ØªØ®ØµÙŠØµØ§Øª */
        .customization-panel {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--glass);
            backdrop-filter: blur(10px);
            border: 1px solid var(--gold);
            border-radius: 20px;
            padding: 15px;
            z-index: 1000;
        }

        .customization-panel button {
            background: var(--gold);
            border: none;
            color: var(--nardoo-deep);
            padding: 10px 20px;
            border-radius: 15px;
            cursor: pointer;
            font-weight: 700;
        }

        .highlight {
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.3), rgba(212, 175, 55, 0.1));
            padding: 0 5px;
            border-radius: 10px;
            font-weight: 700;
        }

        .search-results-info {
            text-align: center;
            margin: 20px 0;
            padding: 15px;
            background: var(--glass);
            border-radius: 50px;
            border: 1px solid var(--gold);
            display: none;
        }
    </style>
</head>
<body>
    <!-- Ø´Ø§Ø´Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ -->
    <div class="loader" id="loader">
        <div class="loader-spinner"></div>
    </div>

    <!-- Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª -->
    <div class="notification-container" id="notificationContainer"></div>

    <!-- Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚ -->
    <div class="cart-sidebar" id="cartSidebar">
        <div class="cart-header">
            <h3><i class="fas fa-shopping-cart"></i> Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚</h3>
            <i class="fas fa-times close-cart" onclick="toggleCart()"></i>
        </div>
        <div class="cart-items" id="cartItems"></div>
        <div class="cart-footer">
            <div class="cart-total">
                <span>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹:</span>
                <span id="cartTotal">0 Ø¯Ø¬</span>
            </div>
            <button class="checkout-btn" onclick="checkoutCart()">
                <i class="fab fa-whatsapp"></i> Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨
            </button>
        </div>
    </div>

    <!-- Ù„ÙˆØ­Ø© ØªØ®ØµÙŠØµ -->
    <div class="customization-panel">
        <button onclick="toggleTheme()">
            <i class="fas fa-moon"></i> ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ø³Ù…Ø©
        </button>
    </div>

    <!-- Ø¹Ø¬Ù„Ø© Ø§Ù„Ø­Ø¸ -->
    <div id="wheelModal" class="modal">
        <div class="modal-content" style="text-align: center;">
            <h2><i class="fas fa-gift"></i> Ø¹Ø¬Ù„Ø© Ø§Ù„Ø­Ø¸</h2>
            <div class="wheel-container">
                <div class="wheel" id="wheel" onclick="spinWheel()"></div>
                <div class="prize-message" id="prizeMessage"></div>
            </div>
            <button class="btn-nardo btn-gold" onclick="closeModal('wheelModal')">Ø¥ØºÙ„Ø§Ù‚</button>
        </div>
    </div>

    <!-- QR Code -->
    <div id="qrModal" class="modal">
        <div class="modal-content" style="text-align: center;">
            <h2><i class="fas fa-qrcode"></i> QR Code Ø§Ù„Ù…Ù†ØªØ¬</h2>
            <div class="qr-container" id="qrContainer"></div>
            <button class="btn-nardo btn-gold" onclick="closeModal('qrModal')">Ø¥ØºÙ„Ø§Ù‚</button>
        </div>
    </div>

    <!-- ÙØ§ØªÙˆØ±Ø© -->
    <div id="invoiceModal" class="modal">
        <div class="modal-content">
            <h2><i class="fas fa-file-invoice"></i> Ø§Ù„ÙØ§ØªÙˆØ±Ø©</h2>
            <div id="invoiceContent"></div>
            <div style="display: flex; gap: 10px; margin-top: 20px;">
                <button class="btn-nardo" onclick="downloadInvoicePDF()">
                    <i class="fas fa-download"></i> ØªØ­Ù…ÙŠÙ„ PDF
                </button>
                <button class="btn-nardo btn-gold" onclick="closeModal('invoiceModal')">
                    <i class="fas fa-times"></i> Ø¥ØºÙ„Ø§Ù‚
                </button>
            </div>
        </div>
    </div>

    <!-- Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª -->
    <div id="statsModal" class="modal">
        <div class="modal-content" style="max-width: 800px;">
            <h2><i class="fas fa-chart-bar"></i> Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…ØªØ¬Ø±</h2>
            <div id="statsContent"></div>
            <button class="btn-nardo btn-gold" onclick="closeModal('statsModal')">Ø¥ØºÙ„Ø§Ù‚</button>
        </div>
    </div>

    <!-- Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù„ÙˆÙŠ -->
    <div class="top-bar">
        <div class="container">
            <div><i class="fas fa-truck-fast"></i> Ø´Ø­Ù† Ù…Ø¬Ø§Ù†ÙŠ Ù„Ù„Ø·Ù„Ø¨Ø§Øª ÙÙˆÙ‚ 5000 Ø¯Ø¬</div>
            <div><i class="fas fa-headset"></i> Ø¯Ø¹Ù… VIP 24/7</div>
            <div><i class="fas fa-gem"></i> Ù…Ù†ØªØ¬Ø§Øª Ø£ØµÙ„ÙŠØ© 100%</div>
        </div>
    </div>

    <!-- Ø§Ù„Ù‡ÙŠØ¯Ø± -->
    <header class="header">
        <div class="container header-content">
            <div class="logo">
                <h1>Ù†Ø§Ø±Ø¯Ùˆ âš¡ Ø¨Ø±Ùˆ</h1>
                <span>Ø§Ù„ØªÙ…ÙŠØ² Ø¨Ù„Ø§ Ø­Ø¯ÙˆØ¯</span>
            </div>
            
            <!-- Ø´Ø±ÙŠØ· Ø§Ù„Ø¨Ø­Ø« -->
            <div class="search-container">
                <i class="fas fa-search search-icon"></i>
                <input type="text" class="search-input" id="searchInput" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†ØªØ¬..." onkeyup="searchProducts()">
                <i class="fas fa-times search-clear" id="searchClear" onclick="clearSearch()"></i>
            </div>
            
            <div class="user-actions">
                <a href="#" onclick="toggleAdvancedSearch()"><i class="fas fa-sliders-h"></i></a>
                <a href="#" onclick="openWheelModal()"><i class="fas fa-gift"></i></a>
                <a href="#" onclick="toggleCart()"><i class="fas fa-shopping-cart"></i> <span id="cartCounter">0</span></a>
                <a href="#" onclick="showStats()"><i class="fas fa-chart-bar"></i></a>
            </div>
        </div>
    </header>

    <!-- Ø¨Ø­Ø« Ù…ØªÙ‚Ø¯Ù… -->
    <div class="container">
        <div class="advanced-search" id="advancedSearch">
            <div class="search-filters">
                <select id="filterCategory" onchange="advancedSearch()">
                    <option value="">ÙƒÙ„ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…</option>
                    <option value="clothes">Ù…Ù„Ø§Ø¨Ø³</option>
                    <option value="spices">ØªÙˆØ§Ø¨Ù„</option>
                    <option value="phones">Ù‡ÙˆØ§ØªÙ</option>
                    <option value="hardware">Ø®Ø±Ø¯Ø©</option>
                </select>
                <input type="number" id="minPrice" placeholder="Ø£Ù‚Ù„ Ø³Ø¹Ø±" onchange="advancedSearch()">
                <input type="number" id="maxPrice" placeholder="Ø£Ø¹Ù„Ù‰ Ø³Ø¹Ø±" onchange="advancedSearch()">
                <select id="sortBy" onchange="advancedSearch()">
                    <option value="">ØªØ±ØªÙŠØ¨</option>
                    <option value="priceAsc">Ø§Ù„Ø³Ø¹Ø±: Ù…Ù† Ø§Ù„Ø£Ù‚Ù„</option>
                    <option value="priceDesc">Ø§Ù„Ø³Ø¹Ø±: Ù…Ù† Ø§Ù„Ø£Ø¹Ù„Ù‰</option>
                    <option value="nameAsc">Ø§Ù„Ø§Ø³Ù…: Ø£ - ÙŠ</option>
                    <option value="nameDesc">Ø§Ù„Ø§Ø³Ù…: ÙŠ - Ø£</option>
                </select>
            </div>
        </div>
    </div>

    <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø¨Ø­Ø« -->
    <div class="container">
        <div id="searchResultsInfo" class="search-results-info"></div>
    </div>

    <!-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ù‚Ø³Ø§Ù… -->
    <nav class="categories-nav">
        <div class="container">
            <ul class="categories-list">
                <li><a onclick="filterProducts('all')" class="active"><i class="fas fa-home"></i> Ø§Ù„ÙƒÙ„</a></li>
                <li><a onclick="filterProducts('clothes')"><i class="fas fa-tshirt"></i> Ù…Ù„Ø§Ø¨Ø³</a></li>
                <li><a onclick="filterProducts('spices')"><i class="fas fa-mortar-pestle"></i> ØªÙˆØ§Ø¨Ù„</a></li>
                <li><a onclick="filterProducts('phones')"><i class="fas fa-mobile-alt"></i> Ù‡ÙˆØ§ØªÙ</a></li>
                <li><a onclick="filterProducts('hardware')"><i class="fas fa-tools"></i> Ø®Ø±Ø¯Ø©</a></li>
            </ul>
        </div>
    </nav>

    <!-- Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª -->
    <div class="container">
        <h2 class="section-title">ğŸ”¥ Ù…Ù†ØªØ¬Ø§Øª Ù†Ø§Ø±Ø¯Ùˆ Ø§Ù„Ù…Ù…ÙŠØ²Ø© ğŸ”¥</h2>
        <div id="products-container" class="products-grid"></div>
    </div>

    <!-- Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø¯ÙŠØ± -->
    <div class="container">
        <div class="admin-panel">
            <h3><i class="fas fa-crown"></i> Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø°Ù‡Ø¨ÙŠØ©</h3>
            
            <!-- ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
            <div class="admin-login" id="adminLogin">
                <input type="text" id="adminUsername" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…">
                <input type="password" id="adminPassword" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
                <button onclick="loginAdmin()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
            </div>

            <!-- Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø¨Ø¹Ø¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
            <div class="admin-controls" id="adminControls">
                <div class="admin-stats" id="adminStats"></div>
                
                <button class="btn-nardo btn-gold" onclick="showAddProductModal()" style="margin-bottom: 30px;">
                    <i class="fas fa-plus-circle"></i> Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯
                </button>
                
                <button class="btn-nardo" onclick="backupData()" style="margin-bottom: 30px; margin-right: 10px;">
                    <i class="fas fa-cloud-upload-alt"></i> Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠ
                </button>
                
                <button class="btn-nardo" onclick="restoreData()" style="margin-bottom: 30px;">
                    <i class="fas fa-cloud-download-alt"></i> Ø§Ø³ØªØ¹Ø§Ø¯Ø©
                </button>
                
                <div id="inventory-control" class="inventory-control"></div>
            </div>
        </div>
    </div>

    <!-- Ù†Ø§ÙØ°Ø© Ø¥Ø¶Ø§ÙØ©/ØªØ¹Ø¯ÙŠÙ„ Ù…Ù†ØªØ¬ -->
    <div id="productModal" class="modal">
        <div class="modal-content" style="max-width: 700px;">
            <h2><i class="fas fa-edit"></i> <span id="modalTitle">Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯</span></h2>
            
            <form id="productForm" onsubmit="event.preventDefault()">
                <input type="text" id="productName" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬ *" required>
                
                <select id="productCategory" required>
                    <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù‚Ø³Ù… *</option>
                    <option value="clothes">Ù…Ù„Ø§Ø¨Ø³</option>
                    <option value="spices">ØªÙˆØ§Ø¨Ù„</option>
                    <option value="phones">Ù‡ÙˆØ§ØªÙ</option>
                    <option value="hardware">Ø®Ø±Ø¯Ø©</option>
                </select>
                
                <input type="number" id="productPrice" placeholder="Ø§Ù„Ø³Ø¹Ø± (Ø¯Ø¬) *" required min="0">
                <input type="number" id="productStock" placeholder="Ø§Ù„ÙƒÙ…ÙŠØ© *" required min="0">
                
                <!-- Ù…Ù†Ø·Ù‚Ø© Ø±ÙØ¹ Ø§Ù„ØµÙˆØ± -->
                <div class="image-upload-area" onclick="document.getElementById('imageInput').click()">
                    <i class="fas fa-cloud-upload-alt"></i>
                    <p>Ø§Ø¶ØºØ· Ù„Ø±ÙØ¹ ØµÙˆØ±Ø© Ø§Ù„Ù…Ù†ØªØ¬</p>
                    <p style="font-size: 12px; color: var(--gold-light);">PNG, JPG, GIF (Ù…Ø§ÙƒØ³ 5 Ù…ÙŠØ¬Ø§)</p>
                    <input type="file" id="imageInput" accept="image/*" style="display: none;" onchange="previewImage(event)">
                </div>
                
                <div id="imagePreview" class="image-preview">
                    <img id="previewImg" src="" alt="Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØµÙˆØ±Ø©">
                </div>
                
                <input type="hidden" id="productImage" value="">
                <input type="hidden" id="editingProductId" value="">
                
                <!-- ÙƒÙˆØ¨ÙˆÙ†Ø§Øª Ø§Ù„Ø®ØµÙ… -->
                <input type="text" id="productCoupon" placeholder="ÙƒÙˆØ¯ Ø§Ù„Ø®ØµÙ… (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)">
                <input type="number" id="productDiscount" placeholder="Ù†Ø³Ø¨Ø© Ø§Ù„Ø®ØµÙ… % (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)" min="0" max="100">
                
                <div class="form-buttons" style="display: flex; gap: 15px; margin-top: 25px;">
                    <button type="button" class="btn-nardo btn-gold" onclick="saveProduct()" style="flex: 2;">
                        <i class="fas fa-save"></i> Ø­ÙØ¸ Ø§Ù„Ù…Ù†ØªØ¬
                    </button>
                    <button type="button" class="btn-nardo" onclick="closeModal('productModal')" style="flex: 1;">
                        <i class="fas fa-times"></i> Ø¥Ù„ØºØ§Ø¡
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Ù†Ø§ÙØ°Ø© Ø§Ù„Ø·Ù„Ø¨ -->
    <div id="orderModal" class="modal">
        <div class="modal-content">
            <h2><i class="fab fa-whatsapp" style="color: #25D366;"></i> Ø·Ù„Ø¨ Ø³Ø±ÙŠØ¹</h2>
            <div id="selectedProduct" class="product-summary" style="background: rgba(255,255,255,0.05); padding: 15px; border-radius: 15px; margin-bottom: 20px; border-right: 5px solid var(--gold);"></div>
            
            <form id="orderForm" onsubmit="event.preventDefault()">
                <input type="text" id="customerName" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„ *" required>
                <input type="tel" id="customerPhone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ *" required>
                <textarea id="customerAddress" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø¨Ø§Ù„ØªÙØµÙŠÙ„ *" rows="3" required></textarea>
                <input type="number" id="quantity" value="1" min="1" required>
                <select id="wilaya" required>
                    <option value="">Ø§Ø®ØªØ± Ø§Ù„ÙˆÙ„Ø§ÙŠØ© *</option>
                    <option value="16">Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±</option>
                    <option value="31">ÙˆÙ‡Ø±Ø§Ù†</option>
                    <option value="23">Ø¹Ù†Ø§Ø¨Ø©</option>
                    <option value="6">Ø¨Ø¬Ø§ÙŠØ©</option>
                    <option value="25">Ù‚Ø³Ù†Ø·ÙŠÙ†Ø©</option>
                </select>
                <textarea id="notes" placeholder="Ù…Ù„Ø§Ø­Ø¸Ø§Øª (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)" rows="2"></textarea>
                
                <!-- ÙƒÙˆØ¨ÙˆÙ† Ø®ØµÙ… -->
                <input type="text" id="couponCode" placeholder="ÙƒÙˆØ¯ Ø§Ù„Ø®ØµÙ…">
                
                <div class="form-buttons" style="display: flex; gap: 15px; margin-top: 20px;">
                    <button type="button" class="btn-nardo btn-gold" onclick="sendWhatsAppOrder()" style="flex: 2;">
                        <i class="fab fa-whatsapp"></i> Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨
                    </button>
                    <button type="button" class="btn-nardo" onclick="closeModal('orderModal')" style="flex: 1;">
                        <i class="fas fa-times"></i> Ø¥Ù„ØºØ§Ø¡
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Ø§Ù„ÙÙˆØªØ± -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-col">
                    <h3>Ù†Ø§Ø±Ø¯Ùˆ Ø¨Ø±Ùˆ</h3>
                    <p>Ø§Ù„Ù…ØªØ¬Ø± Ø§Ù„Ø¬Ù‡Ù†ÙŠ Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„Ø£Ù‚Ø³Ø§Ù… - ØªØ¬Ø±Ø¨Ø© ØªØ³ÙˆÙ‚ Ø§Ø³ØªØ«Ù†Ø§Ø¦ÙŠØ©</p>
                    <p><i class="fas fa-star"></i> ØªÙ‚ÙŠÙŠÙ…: <span id="averageRating">0.0</span> (â­)</p>
                </div>
                <div class="footer-col">
                    <h3>Ø§ØªØµØ§Ù„ Ù†Ø§Ø±ÙŠ</h3>
                    <p><i class="fab fa-whatsapp" style="color: #25D366;"></i> +213 562243648</p>
                    <p><i class="fas fa-phone"></i> 023 000000</p>
                    <p><i class="fas fa-envelope"></i> info@nardoo-pro.com</p>
                </div>
                <div class="footer-col">
                    <h3>ØªØ§Ø¨Ø¹Ù†Ø§</h3>
                    <p><i class="fab fa-facebook"></i> ÙÙŠØ³Ø¨ÙˆÙƒ</p>
                    <p><i class="fab fa-instagram"></i> Ø§Ù†Ø³ØªØºØ±Ø§Ù…</p>
                    <p><i class="fab fa-tiktok"></i> ØªÙŠÙƒ ØªÙˆÙƒ</p>
                </div>
                <div class="footer-col">
                    <h3>Ø³Ø±ÙŠØ¹</h3>
                    <p><i class="fas fa-question-circle"></i> Ø¹Ù† Ø§Ù„Ù…ØªØ¬Ø±</p>
                    <p><i class="fas fa-shield-alt"></i> Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</p>
                    <p><i class="fas fa-truck"></i> Ø§Ù„Ø´Ø­Ù† ÙˆØ§Ù„ØªÙˆØµÙŠÙ„</p>
                </div>
            </div>
            <div class="copyright">
                Â© 2026 Ù†Ø§Ø±Ø¯Ùˆ Ø¨Ø±Ùˆ - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© | ØªØµÙ…ÙŠÙ… rezag âš¡
            </div>
        </div>
    </footer>

    <script>
        // ========== Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø© ==========
        let products = [];
        let currentProduct = null;
        let currentFilter = 'all';
        let searchTerm = '';
        let cart = [];
        let adminLoggedIn = false;
        let currentUser = 'Ø²Ø§Ø¦Ø±';
        let reviews = [];
        let orders = [];
        let analytics = {
            pageViews: {},
            popularProducts: {},
            searchQueries: []
        };
        let isDarkMode = true;
        let currentInvoice = null;
        let coupons = {
            'NARDOO10': { discount: 10, type: 'percentage' },
            'WELCOME20': { discount: 20, type: 'percentage' },
            'FLAT500': { discount: 500, type: 'fixed' }
        };
        let loyaltyPoints = 0;

        // ========== Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ==========
        function showNotification(message, type = 'info') {
            const container = document.getElementById('notificationContainer');
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            
            const icons = {
                success: 'fa-check-circle',
                error: 'fa-times-circle',
                warning: 'fa-exclamation-triangle',
                info: 'fa-info-circle'
            };
            
            notification.innerHTML = `
                <i class="fas ${icons[type] || icons.info}"></i>
                <span>${message}</span>
            `;
            
            container.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // ========== ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ==========
        function loadProducts() {
            const saved = localStorage.getItem('nardoo_products_pro');
            const savedCart = localStorage.getItem('nardoo_cart');
            const savedReviews = localStorage.getItem('nardoo_reviews');
            const savedOrders = localStorage.getItem('nardoo_orders');
            const savedTheme = localStorage.getItem('theme');
            
            if (saved) {
                products = JSON.parse(saved);
            } else {
                products = [
                    { id: 1, name: "Ø¨Ø´Øª Ø±Ø¬Ø§Ù„ÙŠ ÙØ§Ø®Ø±", category: "clothes", categoryName: "Ù…Ù„Ø§Ø¨Ø³", price: 19500, stock: 15, image: "", rating: 4.5, reviews: [], coupon: "", discount: 0 },
                    { id: 2, name: "Ù‚ÙØ·Ø§Ù† Ù…Ø·Ø±Ø²", category: "clothes", categoryName: "Ù…Ù„Ø§Ø¨Ø³", price: 18500, stock: 8, image: "", rating: 4.8, reviews: [], coupon: "", discount: 0 },
                    { id: 3, name: "Ø²Ø¹ÙØ±Ø§Ù† Ø£ØµÙ„ÙŠ", category: "spices", categoryName: "ØªÙˆØ§Ø¨Ù„", price: 3500, stock: 25, image: "", rating: 5.0, reviews: [], coupon: "", discount: 0 },
                    { id: 4, name: "Ø³Ø§Ù…Ø³ÙˆÙ†Ø¬ A54", category: "phones", categoryName: "Ù‡ÙˆØ§ØªÙ", price: 45000, stock: 3, image: "", rating: 4.3, reviews: [], coupon: "", discount: 0 },
                    { id: 5, name: "ØµÙ†Ø¯ÙˆÙ‚ Ø¹Ø¯Ø©", category: "hardware", categoryName: "Ø®Ø±Ø¯Ø©", price: 4500, stock: 7, image: "", rating: 4.0, reviews: [], coupon: "", discount: 0 }
                ];
            }
            
            if (savedCart) cart = JSON.parse(savedCart);
            if (savedReviews) reviews = JSON.parse(savedReviews);
            if (savedOrders) orders = JSON.parse(savedOrders);
            if (savedTheme) {
                isDarkMode = savedTheme === 'dark';
                if (!isDarkMode) document.body.classList.add('light-mode');
            }
            
            updateCartCounter();
            updateAverageRating();
            updateAdminStats();
            
            // Ø¥Ø®ÙØ§Ø¡ Ø´Ø§Ø´Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„
            setTimeout(() => {
                document.getElementById('loader').classList.add('hidden');
            }, 500);
        }

        function saveToLocalStorage() {
            localStorage.setItem('nardoo_products_pro', JSON.stringify(products));
            localStorage.setItem('nardoo_cart', JSON.stringify(cart));
            localStorage.setItem('nardoo_reviews', JSON.stringify(reviews));
            localStorage.setItem('nardoo_orders', JSON.stringify(orders));
        }

        // ========== Ù†Ø¸Ø§Ù… Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ù…ØªÙ‚Ø¯Ù… ==========
        function searchProducts() {
            const input = document.getElementById('searchInput');
            const clearBtn = document.getElementById('searchClear');
            searchTerm = input.value.trim().toLowerCase();
            
            if (searchTerm.length > 0) {
                clearBtn.style.display = 'block';
                analytics.searchQueries.push({
                    query: searchTerm,
                    time: new Date(),
                    results: filterProductsBySearch().length
                });
            } else {
                clearBtn.style.display = 'none';
            }
            
            filterAndDisplayProducts();
        }

        function clearSearch() {
            const input = document.getElementById('searchInput');
            const clearBtn = document.getElementById('searchClear');
            input.value = '';
            searchTerm = '';
            clearBtn.style.display = 'none';
            document.getElementById('advancedSearch').classList.remove('visible');
            filterAndDisplayProducts();
        }

        function toggleAdvancedSearch() {
            document.getElementById('advancedSearch').classList.toggle('visible');
        }

        function advancedSearch() {
            filterAndDisplayProducts();
        }

        function filterProductsBySearch() {
            let filtered = products;
            
            // ØªØ·Ø¨ÙŠÙ‚ ÙÙ„ØªØ± Ø§Ù„Ù‚Ø³Ù…
            if (currentFilter !== 'all') {
                filtered = filtered.filter(p => p.category === currentFilter);
            }
            
            // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ù†ØµÙŠ
            if (searchTerm) {
                filtered = filtered.filter(p => 
                    p.name.toLowerCase().includes(searchTerm) || 
                    p.categoryName.toLowerCase().includes(searchTerm)
                );
            }
            
            // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ù…ØªÙ‚Ø¯Ù…
            const category = document.getElementById('filterCategory')?.value;
            const minPrice = parseFloat(document.getElementById('minPrice')?.value);
            const maxPrice = parseFloat(document.getElementById('maxPrice')?.value);
            const sortBy = document.getElementById('sortBy')?.value;
            
            if (category) {
                filtered = filtered.filter(p => p.category === category);
            }
            
            if (minPrice) {
                filtered = filtered.filter(p => p.price >= minPrice);
            }
            
            if (maxPrice) {
                filtered = filtered.filter(p => p.price <= maxPrice);
            }
            
            // Ø§Ù„ØªØ±ØªÙŠØ¨
            if (sortBy) {
                switch(sortBy) {
                    case 'priceAsc':
                        filtered.sort((a, b) => a.price - b.price);
                        break;
                    case 'priceDesc':
                        filtered.sort((a, b) => b.price - a.price);
                        break;
                    case 'nameAsc':
                        filtered.sort((a, b) => a.name.localeCompare(b.name));
                        break;
                    case 'nameDesc':
                        filtered.sort((a, b) => b.name.localeCompare(a.name));
                        break;
                }
            }
            
            return filtered;
        }

        function filterAndDisplayProducts() {
            const filteredProducts = filterProductsBySearch();
            
            const searchInfo = document.getElementById('searchResultsInfo');
            if (searchTerm) {
                if (filteredProducts.length === 0) {
                    searchInfo.innerHTML = `<i class="fas fa-search"></i> Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬ Ù„Ù€ "${searchTerm}"`;
                    searchInfo.style.display = 'block';
                } else {
                    searchInfo.innerHTML = `<i class="fas fa-search"></i> ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ ${filteredProducts.length} Ù…Ù†ØªØ¬${filteredProducts.length > 1 ? 'ÙŠÙ†' : ''} Ù„Ù€ "${searchTerm}"`;
                    searchInfo.style.display = 'block';
                }
            } else {
                searchInfo.style.display = 'none';
            }
            
            displayFilteredProducts(filteredProducts);
        }

        function displayFilteredProducts(filteredProducts) {
            const container = document.getElementById('products-container');
            if (!container) return;
            
            container.innerHTML = filteredProducts.map(product => {
                let stockClass = 'in-stock';
                let stockText = 'Ù…ØªÙˆÙØ±';
                let disabled = false;
                
                if (product.stock <= 0) {
                    stockClass = 'out-of-stock';
                    stockText = 'ØºÙŠØ± Ù…ØªÙˆÙØ±';
                    disabled = true;
                } else if (product.stock < 5) {
                    stockClass = 'low-stock';
                    stockText = `ÙƒÙ…ÙŠØ© Ù…Ø­Ø¯ÙˆØ¯Ø© (${product.stock})`;
                } else {
                    stockText = `Ù…ØªÙˆÙØ± (${product.stock})`;
                }

                const imageHtml = product.image 
                    ? `<img src="${product.image}" alt="${product.name}">` 
                    : `<div class="no-image"><i class="fas fa-crown"></i><span>Ù†Ø§Ø±Ø¯Ùˆ</span></div>`;

                // ØªÙ…ÙŠÙŠØ² ÙƒÙ„Ù…Ø© Ø§Ù„Ø¨Ø­Ø«
                let productName = product.name;
                if (searchTerm) {
                    const regex = new RegExp(`(${searchTerm})`, 'gi');
                    productName = product.name.replace(regex, '<span class="highlight">$1</span>');
                }

                // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø³Ø¹Ø± Ø¨Ø¹Ø¯ Ø§Ù„Ø®ØµÙ…
                let displayPrice = product.price;
                let originalPrice = '';
                if (product.discount > 0) {
                    displayPrice = product.price * (1 - product.discount / 100);
                    originalPrice = `<span style="text-decoration: line-through; color: #999; font-size: 18px; margin-left: 10px;">${product.price.toLocaleString()}</span>`;
                }

                return `
                    <div class="product-card" data-category="${product.category}">
                        <div class="product-image">${imageHtml}</div>
                        <div class="product-info">
                            <div class="product-category">
                                <i class="fas fa-tag"></i> ${product.categoryName}
                                ${product.discount > 0 ? `<span style="background: var(--gold); color: var(--nardoo-deep); padding: 3px 10px; border-radius: 20px; font-size: 12px;">Ø®ØµÙ… ${product.discount}%</span>` : ''}
                            </div>
                            <h3 class="product-title">${productName}</h3>
                            <div class="product-rating">
                                ${generateStars(product.rating || 0)}
                                <span>(${product.reviews?.length || 0} ØªÙ‚ÙŠÙŠÙ…)</span>
                            </div>
                            <div class="product-price">${Math.round(displayPrice).toLocaleString()} ${originalPrice}</div>
                            <div class="product-stock ${stockClass}">
                                <i class="fas ${product.stock > 0 ? 'fa-check-circle' : 'fa-times-circle'}"></i> 
                                ${stockText}
                            </div>
                            <div class="product-actions">
                                <button class="add-to-cart" 
                                        onclick="addToCart(${product.id})" 
                                        ${disabled ? 'disabled' : ''}>
                                    <i class="fas fa-shopping-cart"></i> 
                                    Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©
                                </button>
                                <button class="add-to-wishlist" onclick="showQRCode(${product.id})">
                                    <i class="fas fa-qrcode"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');

            displayInventoryControl();
            
            if (anime) {
                anime({
                    targets: '.product-card',
                    scale: [0.8, 1],
                    opacity: [0, 1],
                    delay: anime.stagger(50),
                    duration: 800,
                    easing: 'easeOutElastic(1, .5)'
                });
            }
        }

        function generateStars(rating) {
            let stars = '';
            for (let i = 1; i <= 5; i++) {
                if (i <= Math.floor(rating)) {
                    stars += '<i class="fas fa-star"></i>';
                } else if (i - 0.5 <= rating) {
                    stars += '<i class="fas fa-star-half-alt"></i>';
                } else {
                    stars += '<i class="far fa-star"></i>';
                }
            }
            return stars;
        }

        function filterProducts(category) {
            currentFilter = category;
            
            document.querySelectorAll('.categories-list a').forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('onclick')?.includes(category) || (category === 'all' && link.getAttribute('onclick')?.includes('all'))) {
                    link.classList.add('active');
                }
            });
            
            filterAndDisplayProducts();
        }

        // ========== Ù†Ø¸Ø§Ù… Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚ ==========
        function toggleCart() {
            const cartSidebar = document.getElementById('cartSidebar');
            cartSidebar.classList.toggle('open');
            updateCartDisplay();
        }

        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            
            if (!product || product.stock <= 0) {
                showNotification('Ø§Ù„Ù…Ù†ØªØ¬ ØºÙŠØ± Ù…ØªÙˆÙØ±', 'error');
                return;
            }
            
            const cartItem = cart.find(item => item.productId === productId);
            
            if (cartItem) {
                if (cartItem.quantity < product.stock) {
                    cartItem.quantity++;
                    showNotification('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙƒÙ…ÙŠØ© ÙÙŠ Ø§Ù„Ø³Ù„Ø©', 'success');
                } else {
                    showNotification('Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ù…ØªÙˆÙØ±Ø© ØºÙŠØ± ÙƒØ§ÙÙŠØ©', 'warning');
                    return;
                }
            } else {
                cart.push({
                    productId: productId,
                    quantity: 1,
                    price: product.price,
                    name: product.name,
                    image: product.image
                });
                showNotification('ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©', 'success');
            }
            
            saveToLocalStorage();
            updateCartCounter();
            updateCartDisplay();
            
            // ÙØªØ­ Ø§Ù„Ø³Ù„Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
            document.getElementById('cartSidebar').classList.add('open');
        }

        function updateCartCounter() {
            const counter = document.getElementById('cartCounter');
            const total = cart.reduce((sum, item) => sum + item.quantity, 0);
            counter.textContent = total;
        }

        function updateCartDisplay() {
            const cartItems = document.getElementById('cartItems');
            const cartTotal = document.getElementById('cartTotal');
            
            if (cart.length === 0) {
                cartItems.innerHTML = '<div style="text-align: center; padding: 40px; color: var(--gold-light);">Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©</div>';
                cartTotal.textContent = '0 Ø¯Ø¬';
                return;
            }
            
            let total = 0;
            cartItems.innerHTML = cart.map(item => {
                const product = products.find(p => p.id === item.productId);
                const itemTotal = item.price * item.quantity;
                total += itemTotal;
                
                return `
                    <div class="cart-item">
                        <div class="cart-item-image">
                            ${product?.image ? `<img src="${product.image}" alt="${item.name}">` : '<i class="fas fa-crown" style="font-size: 40px; color: var(--gold); display: flex; justify-content: center; align-items: center; height: 100%;"></i>'}
                        </div>
                        <div class="cart-item-info">
                            <div class="cart-item-title">${item.name}</div>
                            <div class="cart-item-price">${item.price.toLocaleString()} Ø¯Ø¬</div>
                            <div class="cart-item-quantity">
                                <button onclick="updateCartItem(${item.productId}, ${item.quantity - 1})">-</button>
                                <span>${item.quantity}</span>
                                <button onclick="updateCartItem(${item.productId}, ${item.quantity + 1})">+</button>
                            </div>
                            <div class="remove-item" onclick="removeFromCart(${item.productId})">
                                <i class="fas fa-trash"></i> Ø¥Ø²Ø§Ù„Ø©
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
            
            cartTotal.textContent = `${total.toLocaleString()} Ø¯Ø¬`;
        }

        function updateCartItem(productId, newQuantity) {
            const item = cart.find(i => i.productId === productId);
            const product = products.find(p => p.id === productId);
            
            if (newQuantity <= 0) {
                removeFromCart(productId);
                return;
            }
            
            if (newQuantity > product.stock) {
                showNotification('Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ù…ØªÙˆÙØ±Ø© ØºÙŠØ± ÙƒØ§ÙÙŠØ©', 'warning');
                return;
            }
            
            item.quantity = newQuantity;
            saveToLocalStorage();
            updateCartCounter();
            updateCartDisplay();
        }

        function removeFromCart(productId) {
            cart = cart.filter(i => i.productId !== productId);
            saveToLocalStorage();
            updateCartCounter();
            updateCartDisplay();
            showNotification('ØªÙ…Øª Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù…Ù†ØªØ¬ Ù…Ù† Ø§Ù„Ø³Ù„Ø©', 'info');
        }

        function checkoutCart() {
            if (cart.length === 0) {
                showNotification('Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©', 'warning');
                return;
            }
            
            // ØªØ¬Ù‡ÙŠØ² Ø§Ù„Ø·Ù„Ø¨
            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const orderItems = cart.map(item => `${item.name} x${item.quantity}`).join('\n');
            
            // ÙØªØ­ Ù†Ø§ÙØ°Ø© Ø§Ù„Ø·Ù„Ø¨ Ù…Ø¹ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø³Ù„Ø©
            currentProduct = { name: 'Ø·Ù„Ø¨ÙŠØ© Ù…ØªØ¹Ø¯Ø¯Ø©', price: total };
            document.getElementById('selectedProduct').innerHTML = `
                <strong>Ø§Ù„Ø·Ù„Ø¨ÙŠØ©:</strong><br>
                ${orderItems}<br>
                <strong>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹:</strong> ${total.toLocaleString()} Ø¯Ø¬
            `;
            
            document.getElementById('orderModal').style.display = 'flex';
        }

        // ========== Ù†Ø¸Ø§Ù… Ø§Ù„Ø·Ù„Ø¨ Ù…Ø¹ Ø§Ù„Ø±Ø¯ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ ==========
        function openOrderModal(productId) {
            currentProduct = products.find(p => p.id === productId);
            
            if (!currentProduct) {
                showNotification('Ø§Ù„Ù…Ù†ØªØ¬ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯', 'error');
                return;
            }
            
            if (currentProduct.stock <= 0) {
                showNotification('Ù†ÙØ¯ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†', 'warning');
                return;
            }

            const selectedProductDiv = document.getElementById('selectedProduct');
            if (selectedProductDiv) {
                selectedProductDiv.innerHTML = `
                    <strong>Ø§Ù„Ù…Ù†ØªØ¬:</strong> ${currentProduct.name}<br>
                    <strong>Ø§Ù„Ø³Ø¹Ø±:</strong> ${currentProduct.price.toLocaleString()} Ø¯Ø¬<br>
                    <strong>Ø§Ù„Ù…ØªÙˆÙØ±:</strong> ${currentProduct.stock}
                `;
            }
            
            const quantityInput = document.getElementById('quantity');
            if (quantityInput) {
                quantityInput.value = 1;
                quantityInput.max = currentProduct.stock;
            }
            
            document.getElementById('orderModal').style.display = 'flex';
        }

        function applyCoupon(code) {
            if (coupons[code]) {
                return coupons[code];
            }
            return null;
        }

        function sendWhatsAppOrder() {
            const name = document.getElementById('customerName').value;
            const phone = document.getElementById('customerPhone').value;
            const address = document.getElementById('customerAddress').value;
            const quantity = parseInt(document.getElementById('quantity').value);
            const wilaya = document.getElementById('wilaya').value;
            const notes = document.getElementById('notes').value;
            const couponCode = document.getElementById('couponCode').value;

            if (!name || !phone || !address || !wilaya) {
                showNotification('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©', 'error');
                return;
            }

            if (!currentProduct) {
                showNotification('Ø­Ø¯Ø« Ø®Ø·Ø£. Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰', 'error');
                return;
            }

            if (quantity > currentProduct.stock) {
                showNotification(`Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© Ø£ÙƒØ¨Ø± Ù…Ù† Ø§Ù„Ù…ØªÙˆÙØ± (${currentProduct.stock})`, 'warning');
                return;
            }

            // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø®ØµÙ…
            let total = currentProduct.price * quantity;
            let discount = 0;
            let finalTotal = total;

            if (couponCode && coupons[couponCode]) {
                const coupon = coupons[couponCode];
                if (coupon.type === 'percentage') {
                    discount = total * (coupon.discount / 100);
                } else {
                    discount = coupon.discount;
                }
                finalTotal = total - discount;
                loyaltyPoints += Math.floor(finalTotal / 100);
                showNotification(`ØªÙ… ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø®ØµÙ…! ÙˆÙØ±Øª ${discount.toLocaleString()} Ø¯Ø¬`, 'success');
            }

            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
            currentProduct.stock -= quantity;
            saveToLocalStorage();
            
            // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨
            const order = {
                id: `ORD-${Date.now()}`,
                date: new Date(),
                customer: name,
                phone: phone,
                product: currentProduct.name,
                quantity: quantity,
                total: finalTotal,
                discount: discount,
                status: 'Ø¬Ø¯ÙŠØ¯'
            };
            orders.push(order);
            saveToLocalStorage();
            
            // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙØ§ØªÙˆØ±Ø©
            currentInvoice = {
                number: `INV-${Date.now()}`,
                date: new Date().toLocaleDateString('ar-EG'),
                time: new Date().toLocaleTimeString('ar-EG'),
                customer: name,
                phone: phone,
                address: address,
                wilaya: wilaya,
                items: [{
                    name: currentProduct.name,
                    quantity: quantity,
                    price: currentProduct.price,
                    total: total
                }],
                subtotal: total,
                discount: discount,
                total: finalTotal,
                points: loyaltyPoints
            };

            // Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø¹Ù…ÙŠÙ„
            let customerMessage = "ğŸ›ï¸ *Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù† Ù†Ø§Ø±Ø¯Ùˆ Ø¨Ø±Ùˆ*\n\n";
            customerMessage += `ğŸ“¦ Ø§Ù„Ù…Ù†ØªØ¬: ${currentProduct.name}\n`;
            customerMessage += `ğŸ”¢ Ø§Ù„ÙƒÙ…ÙŠØ©: ${quantity}\n`;
            customerMessage += `ğŸ’° Ø§Ù„Ø³Ø¹Ø±: ${currentProduct.price.toLocaleString()} Ø¯Ø¬\n`;
            if (discount > 0) {
                customerMessage += `ğŸ Ø§Ù„Ø®ØµÙ…: ${discount.toLocaleString()} Ø¯Ø¬\n`;
            }
            customerMessage += `ğŸ’µ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: ${finalTotal.toLocaleString()} Ø¯Ø¬\n\n`;
            customerMessage += `ğŸ‘¤ Ø§Ù„Ø¹Ù…ÙŠÙ„: ${name}\n`;
            customerMessage += `ğŸ“ Ø§Ù„Ù‡Ø§ØªÙ: ${phone}\n`;
            customerMessage += `ğŸ“ Ø§Ù„ÙˆÙ„Ø§ÙŠØ©: ${wilaya}\n`;
            customerMessage += `ğŸ  Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: ${address}\n`;
            if (notes) customerMessage += `ğŸ“ Ù…Ù„Ø§Ø­Ø¸Ø§Øª: ${notes}`;

            // Ø§Ù„Ø±Ø¯ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
            let autoReply = "\n\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n";
            autoReply += "*âœ… ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø·Ù„Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­!*\n";
            autoReply += "Ø´ÙƒØ±Ø§Ù‹ Ù„ØªØ³ÙˆÙ‚Ùƒ Ù…Ø¹ Ù†Ø§Ø±Ø¯Ùˆ Ø¨Ø±Ùˆ ğŸ™\n\n";
            autoReply += "ğŸ“¢ *Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø·Ù„Ø¨:*\n";
            autoReply += `â±ï¸ ÙˆÙ‚Øª Ø§Ù„Ø·Ù„Ø¨: ${new Date().toLocaleString('ar-EG')}\n`;
            autoReply += `ğŸ†” Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨: ${order.id}\n`;
            autoReply += `â­ Ù†Ù‚Ø§Ø· Ø§Ù„ÙˆÙ„Ø§Ø¡: ${loyaltyPoints}\n\n`;
            autoReply += "ğŸ”” *Ø³ÙŠØªÙ… Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ù‚Ø±ÙŠØ¨Ø§Ù‹ Ù„ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨*\n";
            autoReply += "ğŸ“ Ù„Ù„Ø§Ø³ØªÙØ³Ø§Ø±: +213 562243648\n\n";
            autoReply += "ğŸŒŸ *ØªØ§Ø¨Ø¹Ù†Ø§ Ø¹Ù„Ù‰:*\n";
            autoReply += "ğŸ“± ÙÙŠØ³Ø¨ÙˆÙƒ | Ø§Ù†Ø³ØªØºØ±Ø§Ù…: @nardoo.pro\n";
            autoReply += "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n";
            autoReply += "Ù†ØªÙ…Ù†Ù‰ Ù„Ùƒ ØªØ³ÙˆÙ‚Ø§Ù‹ Ø³Ø¹ÙŠØ¯Ø§Ù‹! ğŸ›’";

            // ÙØªØ­ Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨
            window.open(`https://wa.me/213562243648?text=${encodeURIComponent(customerMessage + autoReply)}`, '_blank');
            
            // Ø¥ÙØ±Ø§Øº Ø§Ù„Ø³Ù„Ø© Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø·Ù„Ø¨ Ù…Ù† Ø§Ù„Ø³Ù„Ø©
            if (currentProduct.name === 'Ø·Ù„Ø¨ÙŠØ© Ù…ØªØ¹Ø¯Ø¯Ø©') {
                cart = [];
                saveToLocalStorage();
                updateCartCounter();
                toggleCart();
            }
            
            closeModal('orderModal');
            showNotification('âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­!', 'success');
            
            // Ø¹Ø±Ø¶ Ø§Ù„ÙØ§ØªÙˆØ±Ø©
            setTimeout(() => showInvoice(), 1000);
            
            filterAndDisplayProducts();
        }

        // ========== Ù†Ø¸Ø§Ù… Ø§Ù„ÙÙˆØ§ØªÙŠØ± ==========
        function showInvoice() {
            if (!currentInvoice) return;
            
            const invoiceContent = document.getElementById('invoiceContent');
            invoiceContent.innerHTML = `
                <div style="text-align: center; margin-bottom: 20px;">
                    <h3 style="color: var(--gold);">Ù†Ø§Ø±Ø¯Ùˆ Ø¨Ø±Ùˆ</h3>
                    <p>ÙØ§ØªÙˆØ±Ø© Ø±Ù‚Ù…: ${currentInvoice.number}</p>
                    <p>Ø§Ù„ØªØ§Ø±ÙŠØ®: ${currentInvoice.date} - ${currentInvoice.time}</p>
                </div>
                
                <div style="margin-bottom: 20px;">
                    <h4 style="color: var(--gold);">Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„</h4>
                    <p>Ø§Ù„Ø§Ø³Ù…: ${currentInvoice.customer}</p>
                    <p>Ø§Ù„Ù‡Ø§ØªÙ: ${currentInvoice.phone}</p>
                    <p>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: ${currentInvoice.address} - ${currentInvoice.wilaya}</p>
                </div>
                
                <table style="width: 100%; border-collapse: collapse; margin-bottom: 20px;">
                    <tr style="border-bottom: 2px solid var(--gold);">
                        <th style="padding: 10px; text-align: right;">Ø§Ù„Ù…Ù†ØªØ¬</th>
                        <th style="padding: 10px; text-align: center;">Ø§Ù„ÙƒÙ…ÙŠØ©</th>
                        <th style="padding: 10px; text-align: left;">Ø§Ù„Ø³Ø¹Ø±</th>
                        <th style="padding: 10px; text-align: left;">Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹</th>
                    </tr>
                    ${currentInvoice.items.map(item => `
                        <tr style="border-bottom: 1px solid var(--glass-border);">
                            <td style="padding: 10px;">${item.name}</td>
                            <td style="padding: 10px; text-align: center;">${item.quantity}</td>
                            <td style="padding: 10px; text-align: left;">${item.price.toLocaleString()} Ø¯Ø¬</td>
                            <td style="padding: 10px; text-align: left;">${item.total.toLocaleString()} Ø¯Ø¬</td>
                        </tr>
                    `).join('')}
                </table>
                
                <div style="text-align: left; font-size: 18px;">
                    <p>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: ${currentInvoice.subtotal.toLocaleString()} Ø¯Ø¬</p>
                    ${currentInvoice.discount > 0 ? `<p>Ø§Ù„Ø®ØµÙ…: -${currentInvoice.discount.toLocaleString()} Ø¯Ø¬</p>` : ''}
                    <p style="font-size: 24px; color: var(--gold); font-weight: 800;">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${currentInvoice.total.toLocaleString()} Ø¯Ø¬</p>
                    <p>Ù†Ù‚Ø§Ø· Ø§Ù„ÙˆÙ„Ø§Ø¡ Ø§Ù„Ù…ÙƒØªØ³Ø¨Ø©: ${currentInvoice.points}</p>
                </div>
            `;
            
            document.getElementById('invoiceModal').style.display = 'flex';
        }

        function downloadInvoicePDF() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            
            doc.setFont('Cairo', 'bold');
            doc.setFontSize(20);
            doc.text('Ù†Ø§Ø±Ø¯Ùˆ Ø¨Ø±Ùˆ', 105, 20, { align: 'center' });
            
            doc.setFontSize(12);
            doc.text(`Ø±Ù‚Ù… Ø§Ù„ÙØ§ØªÙˆØ±Ø©: ${currentInvoice.number}`, 20, 40);
            doc.text(`Ø§Ù„ØªØ§Ø±ÙŠØ®: ${currentInvoice.date}`, 20, 50);
            
            let y = 70;
            doc.text('Ø§Ù„Ù…Ù†ØªØ¬', 20, y);
            doc.text('Ø§Ù„ÙƒÙ…ÙŠØ©', 80, y);
            doc.text('Ø§Ù„Ø³Ø¹Ø±', 120, y);
            doc.text('Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹', 160, y);
            
            y += 10;
            currentInvoice.items.forEach(item => {
                doc.text(item.name, 20, y);
                doc.text(item.quantity.toString(), 80, y);
                doc.text(`${item.price.toLocaleString()} Ø¯Ø¬`, 120, y);
                doc.text(`${item.total.toLocaleString()} Ø¯Ø¬`, 160, y);
                y += 10;
            });
            
            y += 10;
            doc.text(`Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: ${currentInvoice.subtotal.toLocaleString()} Ø¯Ø¬`, 160, y);
            if (currentInvoice.discount > 0) {
                y += 10;
                doc.text(`Ø§Ù„Ø®ØµÙ…: -${currentInvoice.discount.toLocaleString()} Ø¯Ø¬`, 160, y);
            }
            y += 10;
            doc.setFontSize(16);
            doc.text(`Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${currentInvoice.total.toLocaleString()} Ø¯Ø¬`, 160, y);
            
            doc.save(`invoice-${currentInvoice.number}.pdf`);
            showNotification('ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙØ§ØªÙˆØ±Ø©', 'success');
        }

        // ========== Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª ==========
        function addReview(productId, rating, comment) {
            const review = {
                id: Date.now(),
                productId: productId,
                rating: rating,
                comment: comment,
                date: new Date(),
                user: currentUser
            };
            
            reviews.push(review);
            
            // ØªØ­Ø¯ÙŠØ« Ù…ØªÙˆØ³Ø· Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ù„Ù„Ù…Ù†ØªØ¬
            const productReviews = reviews.filter(r => r.productId === productId);
            const average = productReviews.reduce((sum, r) => sum + r.rating, 0) / productReviews.length;
            
            const product = products.find(p => p.id === productId);
            if (product) {
                product.rating = average;
                product.reviews = productReviews;
            }
            
            saveToLocalStorage();
            updateAverageRating();
            showNotification('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø¨Ù†Ø¬Ø§Ø­', 'success');
        }

        function updateAverageRating() {
            const allRatings = reviews.map(r => r.rating);
            if (allRatings.length > 0) {
                const average = allRatings.reduce((a, b) => a + b, 0) / allRatings.length;
                document.getElementById('averageRating').textContent = average.toFixed(1);
            }
        }

        // ========== Ù†Ø¸Ø§Ù… QR Code ==========
        function showQRCode(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;
            
            const qrContainer = document.getElementById('qrContainer');
            qrContainer.innerHTML = '';
            
            const qrData = {
                id: product.id,
                name: product.name,
                price: product.price,
                url: window.location.href + `?product=${product.id}`
            };
            
            new QRCode(qrContainer, {
                text: JSON.stringify(qrData),
                width: 200,
                height: 200
            });
            
            document.getElementById('qrModal').style.display = 'flex';
        }

        // ========== Ø¹Ø¬Ù„Ø© Ø§Ù„Ø­Ø¸ ==========
        function openWheelModal() {
            document.getElementById('wheelModal').style.display = 'flex';
            document.getElementById('prizeMessage').innerHTML = '';
        }

        function spinWheel() {
            const wheel = document.getElementById('wheel');
            wheel.classList.add('spinning');
            
            const prizes = ['Ø®ØµÙ… 10%', 'Ø´Ø­Ù† Ù…Ø¬Ø§Ù†ÙŠ', 'Ù‡Ø¯ÙŠØ© Ù…ÙØ§Ø¬Ø¦Ø©', 'Ù†Ù‚Ø§Ø· Ù…Ø¶Ø§Ø¹ÙØ©', 'ÙƒÙˆØ¨ÙˆÙ† 500 Ø¯Ø¬', 'Ø­Ø¸ Ø£ÙˆÙØ±'];
            const result = prizes[Math.floor(Math.random() * prizes.length)];
            
            setTimeout(() => {
                wheel.classList.remove('spinning');
                document.getElementById('prizeMessage').innerHTML = `ğŸ‰ ÙØ²Øª Ø¨Ù€: ${result}`;
                
                // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¬Ø§Ø¦Ø²Ø©
                switch(result) {
                    case 'Ø®ØµÙ… 10%':
                        showNotification('ØªÙ… Ø¥Ø¶Ø§ÙØ© ÙƒÙˆØ¨ÙˆÙ† Ø®ØµÙ… 10%', 'success');
                        coupons['WHEEL10'] = { discount: 10, type: 'percentage' };
                        break;
                    case 'Ø´Ø­Ù† Ù…Ø¬Ø§Ù†ÙŠ':
                        showNotification('Ø´Ø­Ù† Ù…Ø¬Ø§Ù†ÙŠ Ù„Ø·Ù„Ø¨Ùƒ Ø§Ù„Ù‚Ø§Ø¯Ù…', 'success');
                        break;
                    case 'Ù†Ù‚Ø§Ø· Ù…Ø¶Ø§Ø¹ÙØ©':
                        loyaltyPoints *= 2;
                        showNotification('ØªÙ… Ù…Ø¶Ø§Ø¹ÙØ© Ù†Ù‚Ø§Ø·Ùƒ', 'success');
                        break;
                }
            }, 3000);
        }

        // ========== Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø¯ÙŠØ± ==========
        function loginAdmin() {
            const username = document.getElementById('adminUsername').value;
            const password = document.getElementById('adminPassword').value;
            
            if (username === 'azer' && password === 'azer1986@S') {
                adminLoggedIn = true;
                document.getElementById('adminLogin').style.display = 'none';
                document.getElementById('adminControls').classList.add('visible');
                updateAdminStats();
                showNotification('Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…', 'success');
                
                // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù†Ø´Ø§Ø·
                analytics.adminLogs = analytics.adminLogs || [];
                analytics.adminLogs.push({
                    action: 'ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„',
                    time: new Date()
                });
            } else {
                showNotification('Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„ ØºÙŠØ± ØµØ­ÙŠØ­Ø©', 'error');
            }
        }

        function updateAdminStats() {
            const statsContainer = document.getElementById('adminStats');
            if (!statsContainer) return;
            
            const totalValue = products.reduce((sum, p) => sum + (p.price * p.stock), 0);
            const outOfStock = products.filter(p => p.stock === 0).length;
            const lowStock = products.filter(p => p.stock > 0 && p.stock < 5).length;
            
            statsContainer.innerHTML = `
                <div class="stat-card">
                    <i class="fas fa-boxes"></i>
                    <h4>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</h4>
                    <div class="stat-value">${products.length}</div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-coins"></i>
                    <h4>Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ†</h4>
                    <div class="stat-value">${totalValue.toLocaleString()} Ø¯Ø¬</div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-exclamation-triangle"></i>
                    <h4>Ù…Ù†ØªÙ‡ÙŠ / Ù…Ù†Ø®ÙØ¶</h4>
                    <div class="stat-value">${outOfStock} / ${lowStock}</div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-chart-line"></i>
                    <h4>Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„ÙŠÙˆÙ…</h4>
                    <div class="stat-value">${orders.filter(o => new Date(o.date).toDateString() === new Date().toDateString()).length}</div>
                </div>
            `;
        }

        function showStats() {
            const statsContent = document.getElementById('statsContent');
            
            const categoryStats = {};
            products.forEach(p => {
                categoryStats[p.categoryName] = (categoryStats[p.categoryName] || 0) + 1;
            });
            
            const topProducts = [...products].sort((a, b) => (b.rating || 0) - (a.rating || 0)).slice(0, 5);
            
            statsContent.innerHTML = `
                <div style="margin-bottom: 30px;">
                    <h3 style="color: var(--gold);">Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø¹Ø§Ù…Ø©</h3>
                    <p>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª: ${products.length}</p>
                    <p>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø·Ù„Ø¨Ø§Øª: ${orders.length}</p>
                    <p>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª: ${reviews.length}</p>
                    <p>Ù†Ù‚Ø§Ø· Ø§Ù„ÙˆÙ„Ø§Ø¡ Ø§Ù„Ù…Ù…Ù†ÙˆØ­Ø©: ${loyaltyPoints}</p>
                </div>
                
                <div style="margin-bottom: 30px;">
                    <h3 style="color: var(--gold);">ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</h3>
                    ${Object.entries(categoryStats).map(([cat, count]) => `
                        <p>${cat}: ${count} Ù…Ù†ØªØ¬</p>
                    `).join('')}
                </div>
                
                <div style="margin-bottom: 30px;">
                    <h3 style="color: var(--gold);">Ø£ÙØ¶Ù„ 5 Ù…Ù†ØªØ¬Ø§Øª</h3>
                    ${topProducts.map(p => `
                        <p>â­ ${p.name} - ${(p.rating || 0).toFixed(1)}</p>
                    `).join('')}
                </div>
                
                <div>
                    <h3 style="color: var(--gold);">Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø£Ø®ÙŠØ±Ø©</h3>
                    ${analytics.searchQueries.slice(-5).map(q => `
                        <p>ğŸ” "${q.query}" - ${q.results} Ù†ØªÙŠØ¬Ø©</p>
                    `).join('')}
                </div>
            `;
            
            document.getElementById('statsModal').style.display = 'flex';
        }

        // ========== Ø±ÙØ¹ Ø§Ù„ØµÙˆØ± ==========
        function previewImage(event) {
            const file = event.target.files[0];
            if (file) {
                if (file.size > 5 * 1024 * 1024) {
                    showNotification('Ø­Ø¬Ù… Ø§Ù„ØµÙˆØ±Ø© ÙƒØ¨ÙŠØ± Ø¬Ø¯Ø§Ù‹. Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ 5 Ù…ÙŠØ¬Ø§', 'error');
                    return;
                }
                
                const reader = new FileReader();
                reader.onload = function(e) {
                    const previewImg = document.getElementById('previewImg');
                    const imagePreview = document.getElementById('imagePreview');
                    const productImage = document.getElementById('productImage');
                    
                    if (previewImg && imagePreview && productImage) {
                        previewImg.src = e.target.result;
                        imagePreview.style.display = 'block';
                        productImage.value = e.target.result;
                    }
                };
                reader.readAsDataURL(file);
            }
        }

        // ========== Ø¥Ø¶Ø§ÙØ©/ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬ ==========
        function showAddProductModal() {
            document.getElementById('modalTitle').innerHTML = 'ğŸ”¥ Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯';
            document.getElementById('productName').value = '';
            document.getElementById('productCategory').value = '';
            document.getElementById('productPrice').value = '';
            document.getElementById('productStock').value = '';
            document.getElementById('productImage').value = '';
            document.getElementById('productCoupon').value = '';
            document.getElementById('productDiscount').value = '';
            document.getElementById('imagePreview').style.display = 'none';
            document.getElementById('editingProductId').value = '';
            document.getElementById('productModal').style.display = 'flex';
        }

        function editProduct(id) {
            const product = products.find(p => p.id === id);
            if (product) {
                document.getElementById('modalTitle').innerHTML = 'âš¡ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬';
                document.getElementById('productName').value = product.name;
                document.getElementById('productCategory').value = product.category;
                document.getElementById('productPrice').value = product.price;
                document.getElementById('productStock').value = product.stock;
                document.getElementById('productImage').value = product.image || '';
                document.getElementById('productCoupon').value = product.coupon || '';
                document.getElementById('productDiscount').value = product.discount || '';
                document.getElementById('editingProductId').value = id;
                
                if (product.image) {
                    document.getElementById('previewImg').src = product.image;
                    document.getElementById('imagePreview').style.display = 'block';
                } else {
                    document.getElementById('imagePreview').style.display = 'none';
                }
                
                document.getElementById('productModal').style.display = 'flex';
            }
        }

        function saveProduct() {
            const name = document.getElementById('productName').value;
            const category = document.getElementById('productCategory').value;
            const price = parseInt(document.getElementById('productPrice').value);
            const stock = parseInt(document.getElementById('productStock').value);
            const image = document.getElementById('productImage').value;
            const coupon = document.getElementById('productCoupon').value;
            const discount = parseInt(document.getElementById('productDiscount').value) || 0;
            const editingId = document.getElementById('editingProductId').value;

            if (!name || !category || !price || !stock) {
                showNotification('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©', 'error');
                return;
            }

            if (isNaN(price) || price <= 0 || isNaN(stock) || stock < 0) {
                showNotification('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ù‚ÙŠÙ… ØµØ­ÙŠØ­Ø© Ù„Ù„Ø³Ø¹Ø± ÙˆØ§Ù„ÙƒÙ…ÙŠØ©', 'error');
                return;
            }

            const categoryNames = {
                'clothes': 'Ù…Ù„Ø§Ø¨Ø³',
                'spices': 'ØªÙˆØ§Ø¨Ù„',
                'phones': 'Ù‡ÙˆØ§ØªÙ',
                'hardware': 'Ø®Ø±Ø¯Ø©'
            };

            if (editingId) {
                const index = products.findIndex(p => p.id == editingId);
                if (index !== -1) {
                    products[index] = {
                        ...products[index],
                        name: name,
                        category: category,
                        categoryName: categoryNames[category] || 'Ø£Ø®Ø±Ù‰',
                        price: price,
                        stock: stock,
                        image: image,
                        coupon: coupon,
                        discount: discount
                    };
                }
                showNotification('ØªÙ… ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬ Ø¨Ù†Ø¬Ø§Ø­', 'success');
            } else {
                const newId = products.length > 0 ? Math.max(...products.map(p => p.id)) + 1 : 1;
                products.push({
                    id: newId,
                    name: name,
                    category: category,
                    categoryName: categoryNames[category] || 'Ø£Ø®Ø±Ù‰',
                    price: price,
                    stock: stock,
                    image: image,
                    rating: 0,
                    reviews: [],
                    coupon: coupon,
                    discount: discount
                });
                showNotification('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ Ø¨Ù†Ø¬Ø§Ø­', 'success');
            }

            saveToLocalStorage();
            filterAndDisplayProducts();
            closeModal('productModal');
            updateAdminStats();
        }

        function deleteProduct(id) {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù…Ù†ØªØ¬ØŸ')) {
                products = products.filter(p => p.id !== id);
                saveToLocalStorage();
                filterAndDisplayProducts();
                updateAdminStats();
                showNotification('ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬', 'info');
            }
        }

        // ========== Ø¹Ø±Ø¶ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… ==========
        function displayInventoryControl() {
            const container = document.getElementById('inventory-control');
            if (!container || !adminLoggedIn) return;
            
            container.innerHTML = products.map(product => `
                <div class="inventory-item">
                    <strong style="color: var(--gold); font-size: 18px;">${product.name}</strong>
                    <small style="color: #aaa; display: block; margin: 5px 0;">${product.categoryName}</small>
                    <div style="margin: 15px 0; display: flex; gap: 10px; align-items: center;">
                        <span>Ø§Ù„Ù…Ø®Ø²ÙˆÙ†:</span>
                        <input type="number" id="stock-${product.id}" value="${product.stock}" min="0" style="width: 70px; background: rgba(255,255,255,0.1); border: 1px solid var(--gold); color: white; padding: 5px; border-radius: 10px;">
                    </div>
                    <div style="margin: 10px 0; color: var(--gold-light);">
                        <small>Ø§Ù„ØªÙ‚ÙŠÙŠÙ…: â­ ${(product.rating || 0).toFixed(1)} (${product.reviews?.length || 0} Ù…Ø±Ø§Ø¬Ø¹Ø©)</small>
                    </div>
                    <div style="display: flex; gap: 10px;">
                        <button class="btn-nardo" style="flex: 1; padding: 10px;" onclick="updateStockFromAdmin(${product.id})">
                            <i class="fas fa-save"></i> ØªØ­Ø¯ÙŠØ«
                        </button>
                        <button class="btn-nardo" style="flex: 1; background: var(--gold); color: var(--nardoo-deep);" onclick="editProduct(${product.id})">
                            <i class="fas fa-edit"></i> ØªØ¹Ø¯ÙŠÙ„
                        </button>
                        <button class="btn-nardo" style="flex: 1; background: #dc2626;" onclick="deleteProduct(${product.id})">
                            <i class="fas fa-trash"></i> Ø­Ø°Ù
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function updateStockFromAdmin(id) {
            const stockInput = document.getElementById(`stock-${id}`);
            if (!stockInput) return;
            
            const newStock = parseInt(stockInput.value);
            if (isNaN(newStock) || newStock < 0) {
                showNotification('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙ…ÙŠØ© ØµØ­ÙŠØ­Ø©', 'error');
                return;
            }
            
            const product = products.find(p => p.id === id);
            if (product) {
                product.stock = newStock;
                saveToLocalStorage();
                filterAndDisplayProducts();
                showNotification('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø®Ø²ÙˆÙ†', 'success');
            }
        }

        // ========== Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ ==========
        function backupData() {
            const data = {
                products: products,
                orders: orders,
                reviews: reviews,
                cart: cart,
                analytics: analytics,
                loyaltyPoints: loyaltyPoints,
                date: new Date()
            };
            
            localStorage.setItem('nardoo_backup', JSON.stringify(data));
            
            // ØªØ­Ù…ÙŠÙ„ ÙƒÙ…Ù„Ù
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `nardoo-backup-${Date.now()}.json`;
            a.click();
            
            showNotification('ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ', 'success');
        }

        function restoreData() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.json';
            input.onchange = function(e) {
                const file = e.target.files[0];
                const reader = new FileReader();
                reader.onload = function(e) {
                    try {
                        const data = JSON.parse(e.target.result);
                        if (data.products) products = data.products;
                        if (data.orders) orders = data.orders;
                        if (data.reviews) reviews = data.reviews;
                        if (data.cart) cart = data.cart;
                        if (data.loyaltyPoints) loyaltyPoints = data.loyaltyPoints;
                        
                        saveToLocalStorage();
                        filterAndDisplayProducts();
                        updateCartCounter();
                        showNotification('ØªÙ… Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­', 'success');
                    } catch (error) {
                        showNotification('Ø®Ø·Ø£ ÙÙŠ Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù…Ù„Ù', 'error');
                    }
                };
                reader.readAsText(file);
            };
            input.click();
        }

        // ========== ØªØ®ØµÙŠØµ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© ==========
        function toggleTheme() {
            isDarkMode = !isDarkMode;
            if (isDarkMode) {
                document.body.classList.remove('light-mode');
                localStorage.setItem('theme', 'dark');
            } else {
                document.body.classList.add('light-mode');
                localStorage.setItem('theme', 'light');
            }
        }

        // ========== Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù†ÙˆØ§ÙØ° ==========
        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        // ========== ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØµÙØ­Ø© ==========
        document.addEventListener('DOMContentLoaded', function() {
            loadProducts();
            filterAndDisplayProducts();
            
            const allLink = document.querySelector('.categories-list a[onclick="filterProducts(\'all\')"]');
            if (allLink) {
                allLink.classList.add('active');
            }
        });

        window.onclick = function(event) {
            const modals = ['orderModal', 'productModal', 'qrModal', 'wheelModal', 'invoiceModal', 'statsModal'];
            modals.forEach(modalId => {
                const modal = document.getElementById(modalId);
                if (event.target === modal) {
                    closeModal(modalId);
                }
            });
            
            // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ø³Ù„Ø© Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø®Ø§Ø±Ø¬Ù‡Ø§
            const cartSidebar = document.getElementById('cartSidebar');
            if (cartSidebar.classList.contains('open') && !cartSidebar.contains(event.target) && !event.target.closest('.user-actions a')) {
                cartSidebar.classList.remove('open');
            }
        }

        // Ø¬Ø¹Ù„ Ø§Ù„Ø¯ÙˆØ§Ù„ Ø¹Ø§Ù„Ù…ÙŠØ©
        window.filterProducts = filterProducts;
        window.openOrderModal = openOrderModal;
        window.sendWhatsAppOrder = sendWhatsAppOrder;
        window.showAddProductModal = showAddProductModal;
        window.editProduct = editProduct;
        window.deleteProduct = deleteProduct;
        window.saveProduct = saveProduct;
        window.updateStockFromAdmin = updateStockFromAdmin;
        window.previewImage = previewImage;
        window.searchProducts = searchProducts;
        window.clearSearch = clearSearch;
        window.toggleAdvancedSearch = toggleAdvancedSearch;
        window.advancedSearch = advancedSearch;
        window.toggleCart = toggleCart;
        window.addToCart = addToCart;
        window.updateCartItem = updateCartItem;
        window.removeFromCart = removeFromCart;
        window.checkoutCart = checkoutCart;
        window.showQRCode = showQRCode;
        window.openWheelModal = openWheelModal;
        window.spinWheel = spinWheel;
        window.loginAdmin = loginAdmin;
        window.backupData = backupData;
        window.restoreData = restoreData;
        window.toggleTheme = toggleTheme;
        window.closeModal = closeModal;
        window.showStats = showStats;
        window.downloadInvoicePDF = downloadInvoicePDF;
    </script>
</body>
</html>
